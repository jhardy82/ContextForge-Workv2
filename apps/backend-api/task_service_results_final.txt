================================================= test session starts =================================================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api
configfile: pyproject.toml
plugins: anyio-4.12.0, Faker-30.10.0, asyncio-0.26.0, cov-5.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 26 items

tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_valid_transition PASSED [  3%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_invalid_transition PASSED [  7%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_not_found PASSED  [ 11%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_new_to_ready PASSED [ 15%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_ready_to_in_progress PASSED [ 19%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_done_to_any_is_invalid PASSED [ 23%]
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_sprint FAILED                [ 26%]
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_project FAILED               [ 30%]
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_success FAILED         [ 34%]
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_fails_fast FAILED      [ 38%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status FAILED                    [ 42%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status_and_priority FAILED       [ 46%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_high_priority_tasks FAILED             [ 50%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_blocked_tasks PASSED                   [ 53%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_new_to_ready PASSED [ 57%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_blocked PASSED [ 61%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_done PASSED [ 65%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_new PASSED [ 69%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_in_progress PASSED [ 73%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_dropped_to_ready FAILED [ 76%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_new_to_done PASSED [ 80%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_ready_to_blocked PASSED [ 84%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_partial_failure_fails_fast FAILED [ 88%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_empty_list PASSED [ 92%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_sprint FAILED [ 96%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_project FAILED [100%]

====================================================== FAILURES =======================================================
___________________________________ TestTaskServiceAssignment.test_assign_to_sprint ___________________________________
tests\unit\services\test_task_service.py:176: in test_assign_to_sprint
    result = await service.assign_to_sprint("T-TEST-001", "S-2025-01")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:249: in assign_to_sprint
    return await self.update(task_id, update_request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:115: in update
    sprint = await self.sprint_repo.get_by_id(update_data.primary_sprint)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\repositories\base.py:34: in get_by_id
    result = await self.session.execute(
E   TypeError: object Mock can't be used in 'await' expression
__________________________________ TestTaskServiceAssignment.test_assign_to_project ___________________________________
tests\unit\services\test_task_service.py:203: in test_assign_to_project
    result = await service.assign_to_project("T-TEST-001", "P-TASKMAN")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:274: in assign_to_project
    return await self.update(task_id, update_request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:103: in update
    project = await self.project_repo.get_by_id(update_data.primary_project)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\repositories\base.py:34: in get_by_id
    result = await self.session.execute(
E   TypeError: object Mock can't be used in 'await' expression
_______________________________ TestTaskServiceBulkOperations.test_bulk_update_success ________________________________
tests\unit\services\test_task_service.py:240: in test_bulk_update_success
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6979B90>, Ok)
______________________________ TestTaskServiceBulkOperations.test_bulk_update_fails_fast ______________________________
tests\unit\services\test_task_service.py:284: in test_bulk_update_fails_fast
    assert isinstance(error, NotFoundError)
E   assert False
E    +  where False = isinstance(AppError("9 validation errors for TaskResponse\nid\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ntitle\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nsummary\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ndescription\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nstatus\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nowner\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\npriority\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_project\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_sprint\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing"), NotFoundError)
_____________________________________ TestTaskServiceSearch.test_search_by_status _____________________________________
tests\unit\services\test_task_service.py:305: in test_search_by_status
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6A26D10>, Ok)
______________________________ TestTaskServiceSearch.test_search_by_status_and_priority _______________________________
tests\unit\services\test_task_service.py:331: in test_search_by_status_and_priority
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6A5CC90>, Ok)
_________________________________ TestTaskServiceSearch.test_get_high_priority_tasks __________________________________
tests\unit\services\test_task_service.py:350: in test_get_high_priority_tasks
    result = await service.get_high_priority_tasks(limit=20)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:409: in get_high_priority_tasks
    result = await self.task_repo.find_high_priority_tasks(limit, offset)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: object Mock can't be used in 'await' expression
__________________ TestTaskServiceStatusTransitionEdgeCases.test_invalid_transition_dropped_to_ready __________________
tests\unit\services\test_task_service_edge_cases.py:197: in test_invalid_transition_dropped_to_ready
    assert isinstance(result, Err)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Ok object at 0x000002A3E68FDE90>, Err)
__________________ TestTaskServiceBulkOperationEdgeCases.test_bulk_update_partial_failure_fails_fast __________________
tests\unit\services\test_task_service_edge_cases.py:303: in test_bulk_update_partial_failure_fails_fast
    assert isinstance(error, NotFoundError)
E   assert False
E    +  where False = isinstance(AppError("9 validation errors for TaskResponse\nid\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ntitle\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nsummary\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ndescription\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nstatus\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nowner\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\npriority\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_project\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_sprint\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing"), NotFoundError)
________________________ TestTaskServiceAssignmentEdgeCases.test_assign_to_nonexistent_sprint _________________________
tests\unit\services\test_task_service_edge_cases.py:359: in test_assign_to_nonexistent_sprint
    result = await service.assign_to_sprint("T-TEST-001", "S-NONEXISTENT")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:249: in assign_to_sprint
    return await self.update(task_id, update_request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:115: in update
    sprint = await self.sprint_repo.get_by_id(update_data.primary_sprint)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\repositories\base.py:34: in get_by_id
    result = await self.session.execute(
E   TypeError: object Mock can't be used in 'await' expression
________________________ TestTaskServiceAssignmentEdgeCases.test_assign_to_nonexistent_project ________________________
tests\unit\services\test_task_service_edge_cases.py:394: in test_assign_to_nonexistent_project
    result = await service.assign_to_project("T-TEST-001", "P-NONEXISTENT")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:274: in assign_to_project
    return await self.update(task_id, update_request)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\task_service.py:103: in update
    project = await self.project_repo.get_by_id(update_data.primary_project)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\repositories\base.py:34: in get_by_id
    result = await self.session.execute(
E   TypeError: object Mock can't be used in 'await' expression

---------- coverage: platform win32, python 3.11.9-final-0 -----------
Name                                                     Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------
src\taskman_api\config.py                                   62     16      6      0  67.65%   102-103, 114-115, 224-243, 249, 255, 261, 290
src\taskman_api\core\errors.py                              78     40     36      5  37.72%   48-57, 73->75, 75->78, 102->104, 104->106, 107, 134-146, 169-177, 199-205, 226-230, 253-259
src\taskman_api\core\result.py                              37     10      0      0  72.97%   37, 40, 43, 50, 54, 66, 69, 72, 76, 79
src\taskman_api\db\base.py                                   6      1      0      0  83.33%   32
src\taskman_api\db\connection_manager.py                    91     68     10      1  23.76%   66-68, 75-124, 135-165, 170-183
src\taskman_api\db\session.py                               27      8      4      0  61.29%   48-50, 63-64, 73-75, 85
src\taskman_api\dependencies.py                             43     43      0      0   0.00%   7-96
src\taskman_api\main.py                                    104    104     18      0   0.00%   6-341
src\taskman_api\middleware\__init__.py                       2      2      0      0   0.00%   7-9
src\taskman_api\middleware\logging_middleware.py            85     85     32      0   0.00%   19-272
src\taskman_api\models\action_list.py                       54     12      6      0  70.00%   33-36, 40-42, 46-48, 128, 133
src\taskman_api\models\project.py                           45      1      0      0  97.78%   91
src\taskman_api\models\sprint.py                            51      3      0      0  94.12%   44, 48, 101
src\taskman_api\repositories\action_list_repository.py      43     28     10      0  28.30%   23, 27-32, 36-39, 54-77, 88-95, 99-101, 105-107, 111-112
src\taskman_api\repositories\base.py                        33     15      0      0  54.55%   37, 41-44, 48-51, 55-57, 61-62, 66-71
src\taskman_api\repositories\project_repository.py          46     32     12      0  24.14%   24-27, 31-34, 38-41, 55-71, 82-94, 105-117
src\taskman_api\repositories\sprint_repository.py           51     36     14      0  23.08%   24-27, 31-34, 38-41, 45-48, 62-78, 91-105, 117-131
src\taskman_api\repositories\task_repository.py             78     62     42      0  13.33%   22, 26-29, 33-34, 38-41, 45-48, 52-55, 73-98, 142-180, 201-233
src\taskman_api\routers\__init__.py                          7      7      0      0   0.00%   6-13
src\taskman_api\routers\action_lists.py                     90     90     20      0   0.00%   7-297
src\taskman_api\routers\agent.py                            30     30      6      0   0.00%   1-72
src\taskman_api\routers\diagnostic.py                       20     20      0      0   0.00%   5-40
src\taskman_api\routers\projects.py                         73     73     32      0   0.00%   7-143
src\taskman_api\routers\sprints.py                         108    108     52      0   0.00%   7-202
src\taskman_api\routers\tasks.py                            94     94     42      0   0.00%   7-183
src\taskman_api\schemas\action_list.py                      82      3      2      0  94.05%   101-103
src\taskman_api\schemas\base.py                             53      4      6      2  86.44%   22, 25-28
src\taskman_api\schemas\project.py                         163     46     26      0  61.90%   164-166, 182-194, 210-222, 228-240, 246-252
src\taskman_api\schemas\sprint.py                          154     42     22      0  63.64%   147-149, 154-156, 164-176, 182-194, 200-212
src\taskman_api\schemas\task.py                            193     30     28     10  78.28%   218, 226, 238, 241-247, 258, 261-267, 276, 279-285, 292, 295-297
src\taskman_api\services\action_list_service.py            112     94     32      0  12.50%   28-29, 38-40, 51-65, 71-92, 96-118, 124-143, 149-157, 161-183, 189-211
src\taskman_api\services\base.py                           110     48     24      5  57.46%   68->67, 71-75, 100-104, 120-140, 171-172, 196, 212->211, 238-253, 269-280, 294-298, 306-310
src\taskman_api\services\project_service.py                 97     79     36      0  13.53%   44-48, 68-85, 115-175, 198-212, 232-246, 265-266, 290-300, 321-331
src\taskman_api\services\sprint_service.py                 141    115     48      0  13.76%   54-59, 79-96, 113-157, 169-173, 177-179, 183-186, 209-229, 262-325, 344-345, 369-380, 401-410, 431-440, 462-470
src\taskman_api\services\task_service.py                    92     22     32      4  67.74%   64-85, 104-105, 116-117, 164->exit, 317, 318->305, 379-384, 411-419, 452-453
-----------------------------------------------------------------------------------------------------
TOTAL                                                     2775   1471    598     27  40.05%

10 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json

FAIL Required test coverage of 70.0% not reached. Total coverage: 40.05%
=============================================== short test summary info ===============================================
FAILED tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_sprint - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_project - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_success - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6979B90>, Ok)
FAILED tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_fails_fast - assert False
 +  where False = isinstance(AppError("9 validation errors for TaskResponse\nid\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ntitle\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nsummary\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ndescription\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nstatus\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nowner\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\npriority\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_project\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_sprint\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing"), NotFoundError)
FAILED tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6A26D10>, Ok)
FAILED tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status_and_priority - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x000002A3E6A5CC90>, Ok)
FAILED tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_high_priority_tasks - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_dropped_to_ready - assert False
 +  where False = isinstance(<taskman_api.core.result.Ok object at 0x000002A3E68FDE90>, Err)
FAILED tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_partial_failure_fails_fast - assert False
 +  where False = isinstance(AppError("9 validation errors for TaskResponse\nid\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ntitle\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nsummary\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\ndescription\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nstatus\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nowner\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\npriority\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_project\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing\nprimary_sprint\n  Field required [type=missing, input_value={'value': <Task(id=T-TEST... status='in_progress')>}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing"), NotFoundError)
FAILED tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_sprint - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_project - TypeError: object Mock can't be used in 'await' expression
============================================ 11 failed, 15 passed in 3.09s ============================================
