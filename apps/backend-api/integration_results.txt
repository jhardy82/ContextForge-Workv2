================================================= test session starts =================================================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api
configfile: pyproject.toml
plugins: anyio-4.12.0, Faker-30.10.0, asyncio-0.26.0, cov-5.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 28 items

tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_action_list_lifecycle {"method": "POST", "path": "/api/v1/action-lists", "query": null, "correlation_id": "4d887ea3-d2ac-417f-9e2b-21aa01ec95b5", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:49.077389Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists", "correlation_id": "4d887ea3-d2ac-417f-9e2b-21aa01ec95b5", "duration_ms": 10.13, "error": "'ActionListService' object has no attribute 'create_action_list'", "error_type": "AttributeError", "event": "http_request_error", "timestamp": "2025-12-29T03:11:49.088290Z", "level": "error"}
{"error": "'ActionListService' object has no attribute 'create_action_list'", "path": "/api/v1/action-lists", "event": "unhandled_exception", "timestamp": "2025-12-29T03:11:49.088290Z", "level": "error"}
FAILED
tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_validation_errors {"method": "POST", "path": "/api/v1/action-lists", "query": null, "correlation_id": "d3c57799-1a48-4e81-aa17-bfc38af2d283", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.006672Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists", "correlation_id": "d3c57799-1a48-4e81-aa17-bfc38af2d283", "duration_ms": 2.25, "error": "'ActionListService' object has no attribute 'create_action_list'", "error_type": "AttributeError", "event": "http_request_error", "timestamp": "2025-12-29T03:11:50.009672Z", "level": "error"}
{"error": "'ActionListService' object has no attribute 'create_action_list'", "path": "/api/v1/action-lists", "event": "unhandled_exception", "timestamp": "2025-12-29T03:11:50.009672Z", "level": "error"}
FAILED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_crud_lifecycle {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "7151c2d4-6f73-4f2a-bf84-fa4ec47e3dcf", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.454077Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-LIFE-001", "name": "Lifecycle Project", "mission": "To test integration", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "project.mgr", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.468798Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.485140Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "name": "Lifecycle Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.486157Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 32.73, "correlation_id": "7151c2d4-6f73-4f2a-bf84-fa4ec47e3dcf", "event": "http_response", "timestamp": "2025-12-29T03:11:50.486672Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "ab8e0bec-ea3d-4262-81e3-bd9c756a2c6b", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.487669Z", "level": "info"}
{"project_id": "P-INT-LIFE-001", "event": "project_retrieved", "timestamp": "2025-12-29T03:11:50.491717Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 4.95, "correlation_id": "ab8e0bec-ea3d-4262-81e3-bd9c756a2c6b", "event": "http_response", "timestamp": "2025-12-29T03:11:50.493308Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "5d0bbe6a-77b3-4c5a-be1b-c1e3a48d89ed", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.493308Z", "level": "info"}
{"model": "Project", "entity_id": "P-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T03:11:50.502842Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "event": "project_updated", "timestamp": "2025-12-29T03:11:50.507543Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 14.22, "correlation_id": "5d0bbe6a-77b3-4c5a-be1b-c1e3a48d89ed", "event": "http_response", "timestamp": "2025-12-29T03:11:50.508197Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "0c80d083-47af-431f-99a6-62f536af77cf", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.509246Z", "level": "info"}
{"project_id": "P-INT-LIFE-001", "event": "project_retrieved", "timestamp": "2025-12-29T03:11:50.511253Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 2.67, "correlation_id": "0c80d083-47af-431f-99a6-62f536af77cf", "event": "http_response", "timestamp": "2025-12-29T03:11:50.511919Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "9e329bb2-1332-4e72-ac67-22877d21f902", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.511954Z", "level": "info"}
{"model": "Project", "entity_id": "P-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T03:11:50.515991Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "event": "project_deleted", "timestamp": "2025-12-29T03:11:50.515991Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 204, "duration_ms": 3.94, "correlation_id": "9e329bb2-1332-4e72-ac67-22877d21f902", "event": "http_response", "timestamp": "2025-12-29T03:11:50.515991Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "85cfd670-c9cb-4279-ab6a-11f3836848c0", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.516926Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 404, "duration_ms": 2.2, "correlation_id": "85cfd670-c9cb-4279-ab6a-11f3836848c0", "event": "http_response", "timestamp": "2025-12-29T03:11:50.518948Z", "level": "warning"}
PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "877c4a1a-196f-4d02-bfcf-6b81e6242120", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.542902Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 422, "duration_ms": 2.93, "correlation_id": "877c4a1a-196f-4d02-bfcf-6b81e6242120", "event": "http_response", "timestamp": "2025-12-29T03:11:50.545927Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "77fa5263-7ff7-4216-b49b-f710293b16fe", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.547764Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 422, "duration_ms": 2.15, "correlation_id": "77fa5263-7ff7-4216-b49b-f710293b16fe", "event": "http_response", "timestamp": "2025-12-29T03:11:50.549909Z", "level": "warning"}
PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_metrics_endpoint PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_duplicate_project_id {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "610795f1-21db-4428-845b-efc62d3c9529", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.606129Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-DUP-001", "name": "Original", "mission": "Dup test", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.607129Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-DUP-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.611665Z", "level": "debug"}
{"project_id": "P-INT-DUP-001", "name": "Original", "event": "project_created", "timestamp": "2025-12-29T03:11:50.611665Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 7.56, "correlation_id": "610795f1-21db-4428-845b-efc62d3c9529", "event": "http_response", "timestamp": "2025-12-29T03:11:50.613667Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "5a7fac73-d2f5-44c1-a3c2-25f78485eccf", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.614667Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-DUP-001", "name": "Original", "mission": "Dup test", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.616453Z", "level": "debug"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 409, "duration_ms": 3.44, "correlation_id": "5a7fac73-d2f5-44c1-a3c2-25f78485eccf", "event": "http_response", "timestamp": "2025-12-29T03:11:50.617449Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_management {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "c7a25696-1520-424c-ae4c-b6d0529dc2e4", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.647464Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.650445Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.659479Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.659479Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 13.1, "correlation_id": "c7a25696-1520-424c-ae4c-b6d0529dc2e4", "event": "http_response", "timestamp": "2025-12-29T03:11:50.660178Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "06ac0e09-0f79-4f28-8656-f456614e3595", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.662024Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-LIFE-001", "name": "Lifecycle Sprint", "goal": "Test Sprint Goal", "cadence": "biweekly", "start_date": "2025-02-01", "end_date": "2025-02-14", "status": "planning", "owner": "scrum.master", "primary_project": "P-SPRINT-TEST-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.677380Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.686265Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "name": "Lifecycle Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:50.686265Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 25.22, "correlation_id": "06ac0e09-0f79-4f28-8656-f456614e3595", "event": "http_response", "timestamp": "2025-12-29T03:11:50.687312Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "60380234-4e42-40b7-9fb0-aee11ca21856", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.687831Z", "level": "info"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_retrieved", "timestamp": "2025-12-29T03:11:50.691580Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 4.63, "correlation_id": "60380234-4e42-40b7-9fb0-aee11ca21856", "event": "http_response", "timestamp": "2025-12-29T03:11:50.692641Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "c47a2e20-ab30-43d9-8143-5029c7c50aa8", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.693692Z", "level": "info"}
{"model": "Sprint", "entity_id": "S-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T03:11:50.701690Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_updated", "timestamp": "2025-12-29T03:11:50.706243Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 13.2, "correlation_id": "c47a2e20-ab30-43d9-8143-5029c7c50aa8", "event": "http_response", "timestamp": "2025-12-29T03:11:50.706243Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "7de2fbc5-bbfb-4c49-b215-20c2e21e827f", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.707846Z", "level": "info"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_retrieved", "timestamp": "2025-12-29T03:11:50.709843Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 3.42, "correlation_id": "7de2fbc5-bbfb-4c49-b215-20c2e21e827f", "event": "http_response", "timestamp": "2025-12-29T03:11:50.710844Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "4fe86142-4f3f-42f3-a2ef-cdd184c4e137", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.711842Z", "level": "info"}
{"model": "Sprint", "entity_id": "S-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T03:11:50.715842Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_deleted", "timestamp": "2025-12-29T03:11:50.715842Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 204, "duration_ms": 4.21, "correlation_id": "4fe86142-4f3f-42f3-a2ef-cdd184c4e137", "event": "http_response", "timestamp": "2025-12-29T03:11:50.715842Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "f2050966-adf4-4da0-87e5-67cc471a59db", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.716843Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 404, "duration_ms": 2.3, "correlation_id": "f2050966-adf4-4da0-87e5-67cc471a59db", "event": "http_response", "timestamp": "2025-12-29T03:11:50.718843Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "75faefdf-54b4-4b04-afc8-b1049de38a91", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.751456Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.753092Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.759090Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.759090Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 8.59, "correlation_id": "75faefdf-54b4-4b04-afc8-b1049de38a91", "event": "http_response", "timestamp": "2025-12-29T03:11:50.759090Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "e7af4c1a-0209-48b1-b6ae-a1b10d5e5f59", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.761090Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 422, "duration_ms": 2.07, "correlation_id": "e7af4c1a-0209-48b1-b6ae-a1b10d5e5f59", "event": "http_response", "timestamp": "2025-12-29T03:11:50.763091Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "8b4dee87-e9fe-48c6-b12a-d319d82ab9ce", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.764093Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 422, "duration_ms": 1.97, "correlation_id": "8b4dee87-e9fe-48c6-b12a-d319d82ab9ce", "event": "http_response", "timestamp": "2025-12-29T03:11:50.765613Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_velocity_calculation {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "31fe67bc-5514-429b-a95d-07734a1f93de", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.789719Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.791622Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.797136Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.797136Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 8.32, "correlation_id": "31fe67bc-5514-429b-a95d-07734a1f93de", "event": "http_response", "timestamp": "2025-12-29T03:11:50.798677Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "782a8cb5-ff07-45a9-a21c-7ba702422155", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.799686Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-VELOCITY", "name": "Velocity Sprint", "goal": "Test Velocity", "cadence": "biweekly", "start_date": "2025-02-01", "end_date": "2025-02-14", "status": "planning", "owner": "scrum.master", "primary_project": "P-SPRINT-TEST-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.803696Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-VELOCITY", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.808639Z", "level": "debug"}
{"sprint_id": "S-INT-VELOCITY", "name": "Velocity Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:50.808639Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 9.41, "correlation_id": "782a8cb5-ff07-45a9-a21c-7ba702422155", "event": "http_response", "timestamp": "2025-12-29T03:11:50.809602Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "f38ac7ef-95a3-453c-8f36-7d572b4eb77d", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.809602Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 16.89, "correlation_id": "f38ac7ef-95a3-453c-8f36-7d572b4eb77d", "event": "http_response", "timestamp": "2025-12-29T03:11:50.827228Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "37d9010f-eca8-44dc-aa29-47afa6440722", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.827228Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 2.48, "correlation_id": "37d9010f-eca8-44dc-aa29-47afa6440722", "event": "http_response", "timestamp": "2025-12-29T03:11:50.830783Z", "level": "warning"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-VELOCITY/progress", "query": null, "correlation_id": "e67f8e58-ea9b-478d-b680-f4296871863e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.831847Z", "level": "info"}
{"sprint_id": "S-INT-VELOCITY", "event": "sprint_progress_retrieved", "timestamp": "2025-12-29T03:11:50.840539Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-VELOCITY/progress", "status_code": 200, "duration_ms": 9.46, "correlation_id": "e67f8e58-ea9b-478d-b680-f4296871863e", "event": "http_response", "timestamp": "2025-12-29T03:11:50.841081Z", "level": "info"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_create_task_full_lifecycle {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "c1e604b0-135c-4451-9ab3-41d472b39ed0", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.867599Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.869596Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.875610Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.875610Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 7.98, "correlation_id": "c1e604b0-135c-4451-9ab3-41d472b39ed0", "event": "http_response", "timestamp": "2025-12-29T03:11:50.875610Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "f67b09ce-8836-4057-adfa-8da6760158ae", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.876610Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.880612Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.887574Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:50.888574Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 12.07, "correlation_id": "f67b09ce-8836-4057-adfa-8da6760158ae", "event": "http_response", "timestamp": "2025-12-29T03:11:50.889223Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "1dfee5cf-3a3d-42df-ac23-4225599d0540", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.890221Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIFE-001", "title": "Lifecycle Task", "summary": "Testing full lifecycle", "description": "Detailed description", "status": "new", "owner": "test.user", "assignees": ["dev.one", "dev.two"], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": 5.0, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": ["integration", "test"], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.895218Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.903248Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "title": "Lifecycle Task", "event": "task_created", "timestamp": "2025-12-29T03:11:50.903248Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 13.67, "correlation_id": "1dfee5cf-3a3d-42df-ac23-4225599d0540", "event": "http_response", "timestamp": "2025-12-29T03:11:50.904275Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "b0258594-4b0f-466a-80fe-04ba6c1227d3", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.904799Z", "level": "info"}
{"task_id": "T-INT-LIFE-001", "event": "task_retrieved", "timestamp": "2025-12-29T03:11:50.908845Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 4.11, "correlation_id": "b0258594-4b0f-466a-80fe-04ba6c1227d3", "event": "http_response", "timestamp": "2025-12-29T03:11:50.908845Z", "level": "info"}
{"method": "PATCH", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "9b2e3f1e-1f22-4466-8fc0-9001197b6916", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.909797Z", "level": "info"}
{"model": "Task", "entity_id": "T-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T03:11:50.923832Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "event": "task_updated", "timestamp": "2025-12-29T03:11:50.928573Z", "level": "info"}
{"method": "PATCH", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 19.87, "correlation_id": "9b2e3f1e-1f22-4466-8fc0-9001197b6916", "event": "http_response", "timestamp": "2025-12-29T03:11:50.929940Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "746882bb-54ed-4c0e-aac7-65fab7e64158", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.931221Z", "level": "info"}
{"task_id": "T-INT-LIFE-001", "event": "task_retrieved", "timestamp": "2025-12-29T03:11:50.934940Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 4.69, "correlation_id": "746882bb-54ed-4c0e-aac7-65fab7e64158", "event": "http_response", "timestamp": "2025-12-29T03:11:50.935997Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "36c6963d-8391-4e2d-bc0c-e35e43b3aaf3", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.937054Z", "level": "info"}
{"model": "Task", "entity_id": "T-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T03:11:50.940708Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "event": "task_deleted", "timestamp": "2025-12-29T03:11:50.940708Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 204, "duration_ms": 3.81, "correlation_id": "36c6963d-8391-4e2d-bc0c-e35e43b3aaf3", "event": "http_response", "timestamp": "2025-12-29T03:11:50.940708Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "b006af11-51a1-4d11-8d5d-9370bbe7f33b", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.941741Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 404, "duration_ms": 1.96, "correlation_id": "b006af11-51a1-4d11-8d5d-9370bbe7f33b", "event": "http_response", "timestamp": "2025-12-29T03:11:50.943298Z", "level": "warning"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_task_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "6f04ca82-5adc-4ccd-85bb-38c48cbaeffa", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.970960Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.972918Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.978643Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T03:11:50.979164Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 9.46, "correlation_id": "6f04ca82-5adc-4ccd-85bb-38c48cbaeffa", "event": "http_response", "timestamp": "2025-12-29T03:11:50.980946Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "dab3da32-779a-4bc6-b9a3-f8724958cfc1", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.982180Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:50.986392Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:50.992467Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:50.992467Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 11.15, "correlation_id": "dab3da32-779a-4bc6-b9a3-f8724958cfc1", "event": "http_response", "timestamp": "2025-12-29T03:11:50.993429Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "f5625642-708b-4e58-bba5-957104d8e92a", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.994427Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 2.92, "correlation_id": "f5625642-708b-4e58-bba5-957104d8e92a", "event": "http_response", "timestamp": "2025-12-29T03:11:50.997432Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "fe844cd0-f6a1-4acd-a332-2e282bc7ed70", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:50.998805Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 1.89, "correlation_id": "fe844cd0-f6a1-4acd-a332-2e282bc7ed70", "event": "http_response", "timestamp": "2025-12-29T03:11:50.999806Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "0c7963be-547a-41f7-9f99-29a8e5123ea8", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.000805Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 2.97, "correlation_id": "0c7963be-547a-41f7-9f99-29a8e5123ea8", "event": "http_response", "timestamp": "2025-12-29T03:11:51.004025Z", "level": "warning"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_list_tasks_pagination_and_filtering {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "ca306974-a55e-47cd-8c8a-f3f75d4a3538", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.041573Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.045075Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.053486Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T03:11:51.054484Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 13.51, "correlation_id": "ca306974-a55e-47cd-8c8a-f3f75d4a3538", "event": "http_response", "timestamp": "2025-12-29T03:11:51.055484Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "f826abee-94ac-4099-ad97-8732b47ab2c4", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.056487Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.062561Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.071264Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:51.071264Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 15.83, "correlation_id": "f826abee-94ac-4099-ad97-8732b47ab2c4", "event": "http_response", "timestamp": "2025-12-29T03:11:51.072304Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "36b9305c-3374-492c-a78c-28e219ca0887", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.073949Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-0", "title": "Task 0", "summary": "Summary 0", "description": "Desc", "status": "new", "owner": "owner.1", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.079726Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-0", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.087302Z", "level": "debug"}
{"task_id": "T-INT-LIST-0", "title": "Task 0", "event": "task_created", "timestamp": "2025-12-29T03:11:51.087302Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 13.95, "correlation_id": "36b9305c-3374-492c-a78c-28e219ca0887", "event": "http_response", "timestamp": "2025-12-29T03:11:51.087302Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "5f6c85ad-68ba-4bdb-9467-3328e905c670", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.088302Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-1", "title": "Task 1", "summary": "Summary 1", "description": "Desc", "status": "new", "owner": "owner.1", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.091053Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-1", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.094053Z", "level": "debug"}
{"task_id": "T-INT-LIST-1", "title": "Task 1", "event": "task_created", "timestamp": "2025-12-29T03:11:51.094053Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 6.49, "correlation_id": "5f6c85ad-68ba-4bdb-9467-3328e905c670", "event": "http_response", "timestamp": "2025-12-29T03:11:51.095053Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "abb1f316-5dcf-4dc0-8777-4875af5a44b5", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.096053Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-2", "title": "Task 2", "summary": "Summary 2", "description": "Desc", "status": "new", "owner": "owner.2", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.100774Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-2", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.103803Z", "level": "debug"}
{"task_id": "T-INT-LIST-2", "title": "Task 2", "event": "task_created", "timestamp": "2025-12-29T03:11:51.103803Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 8.38, "correlation_id": "abb1f316-5dcf-4dc0-8777-4875af5a44b5", "event": "http_response", "timestamp": "2025-12-29T03:11:51.104324Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "fe5a365c-f989-4fb2-a599-e7c9aec6354f", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.104324Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-3", "title": "Task 3", "summary": "Summary 3", "description": "Desc", "status": "done", "owner": "owner.2", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.109320Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-3", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.111878Z", "level": "debug"}
{"task_id": "T-INT-LIST-3", "title": "Task 3", "event": "task_created", "timestamp": "2025-12-29T03:11:51.111878Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 8.16, "correlation_id": "fe5a365c-f989-4fb2-a599-e7c9aec6354f", "event": "http_response", "timestamp": "2025-12-29T03:11:51.113183Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "ae78ee48-3747-4c55-9e61-21f7a90a7274", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.114133Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-4", "title": "Task 4", "summary": "Summary 4", "description": "Desc", "status": "done", "owner": "owner.2", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.118129Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-4", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.120889Z", "level": "debug"}
{"task_id": "T-INT-LIST-4", "title": "Task 4", "event": "task_created", "timestamp": "2025-12-29T03:11:51.120889Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 7.84, "correlation_id": "ae78ee48-3747-4c55-9e61-21f7a90a7274", "event": "http_response", "timestamp": "2025-12-29T03:11:51.121888Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "per_page=2&page=1", "correlation_id": "f17966e8-6bb9-4bb0-a00b-83b371f8796e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.122890Z", "level": "info"}
{"count": 2, "total": 5, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T03:11:51.131495Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 9.46, "correlation_id": "f17966e8-6bb9-4bb0-a00b-83b371f8796e", "event": "http_response", "timestamp": "2025-12-29T03:11:51.132495Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "status=done", "correlation_id": "4f9b1273-3556-471a-890d-292855bfc72b", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.132495Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T03:11:51.139741Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 7.09, "correlation_id": "4f9b1273-3556-471a-890d-292855bfc72b", "event": "http_response", "timestamp": "2025-12-29T03:11:51.140264Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "priority=p2", "correlation_id": "d093e69a-f626-42ee-a59f-78eb79a10123", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.141302Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T03:11:51.147603Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 7.9, "correlation_id": "d093e69a-f626-42ee-a59f-78eb79a10123", "event": "http_response", "timestamp": "2025-12-29T03:11:51.149245Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "owner=owner.1", "correlation_id": "a438373c-a38c-48ff-ac3f-54740d69d1f4", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.149888Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T03:11:51.156105Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 6.69, "correlation_id": "a438373c-a38c-48ff-ac3f-54740d69d1f4", "event": "http_response", "timestamp": "2025-12-29T03:11:51.156624Z", "level": "info"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_duplicate_task_id {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "cf759f5e-26d5-4714-a118-fd0b3730fd47", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.190389Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.193390Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.200421Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T03:11:51.200421Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 11.24, "correlation_id": "cf759f5e-26d5-4714-a118-fd0b3730fd47", "event": "http_response", "timestamp": "2025-12-29T03:11:51.201418Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "1ca4ee92-e23e-4513-a98b-cbad908984da", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.202417Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.207088Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.217082Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T03:11:51.218083Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 15.99, "correlation_id": "1ca4ee92-e23e-4513-a98b-cbad908984da", "event": "http_response", "timestamp": "2025-12-29T03:11:51.218083Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "88e744cf-a87e-429c-8a0f-a4f63e894deb", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.220082Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-DUP-001", "title": "Original", "summary": "Summary", "description": "Desc", "status": "new", "owner": "owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.226317Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-DUP-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.234627Z", "level": "debug"}
{"task_id": "T-INT-DUP-001", "title": "Original", "event": "task_created", "timestamp": "2025-12-29T03:11:51.234627Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 15.22, "correlation_id": "88e744cf-a87e-429c-8a0f-a4f63e894deb", "event": "http_response", "timestamp": "2025-12-29T03:11:51.235625Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "cf1681b8-de9c-48ee-94f0-08105f27ff80", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T03:11:51.236500Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-DUP-001", "title": "Original", "summary": "Summary", "description": "Desc", "status": "new", "owner": "owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.239499Z", "level": "debug"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 409, "duration_ms": 5.96, "correlation_id": "cf1681b8-de9c-48ee-94f0-08105f27ff80", "event": "http_response", "timestamp": "2025-12-29T03:11:51.242713Z", "level": "warning"}
PASSED
tests/integration/services/test_cross_service_ops.py::test_full_workflow_simulation {"model": "Project", "request_data": {"id": "P-FULL-001", "name": "Full Workflow Project", "mission": "Testing full workflow", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.278458Z", "level": "debug"}
{"model": "Project", "response_id": "P-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.286400Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-FULL-001", "name": "Sprint 1", "goal": "Initial Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-FULL-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.289142Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.295666Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-FULL-001", "title": "Task 1", "summary": "Summary 1", "description": "Desc 1", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-FULL-001", "primary_sprint": "S-FULL-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.300666Z", "level": "debug"}
{"model": "Task", "response_id": "T-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.309146Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-FULL-002", "title": "Task 2", "summary": "Summary 2", "description": "Desc 2", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-FULL-001", "primary_sprint": "S-FULL-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.312366Z", "level": "debug"}
{"model": "Task", "response_id": "T-FULL-002", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.317522Z", "level": "debug"}
{"model": "Task", "entity_id": "T-FULL-001", "event": "service.update.start", "timestamp": "2025-12-29T03:11:51.318058Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-FULL-002", "name": "Sprint 2", "goal": "Next Sprint", "cadence": "biweekly", "start_date": "2025-01-15", "end_date": "2025-01-28", "status": "planning", "owner": "tester", "primary_project": "P-FULL-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.325458Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-FULL-002", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.328507Z", "level": "debug"}
{"model": "Task", "entity_id": "T-FULL-002", "event": "service.update.start", "timestamp": "2025-12-29T03:11:51.330509Z", "level": "debug"}
PASSED
tests/integration/services/test_project_sprint_flow.py::test_project_sprint_task_hierarchy {"model": "Project", "request_data": {"id": "P-INTEGRATION-001", "name": "Integration Project", "mission": "Testing hierarchy", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.390726Z", "level": "debug"}
{"model": "Project", "response_id": "P-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.395822Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-INTEGRATION-001", "name": "Sprint 1", "goal": "First Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-INTEGRATION-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.397824Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.404835Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-INTEGRATION-001", "title": "Integration Task", "summary": "Test Summary", "description": "Test Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INTEGRATION-001", "primary_sprint": "S-INTEGRATION-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.407835Z", "level": "debug"}
{"model": "Task", "response_id": "T-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.413971Z", "level": "debug"}
PASSED
tests/integration/services/test_project_sprint_flow.py::test_orphan_prevention PASSED
tests/integration/services/test_task_sprint_flow.py::test_task_movement_between_sprints {"model": "Project", "request_data": {"id": "P-MOVE-001", "name": "Move Project", "mission": "Testing movement", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.467390Z", "level": "debug"}
{"model": "Project", "response_id": "P-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.473272Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-MOVE-001", "name": "Sprint 1", "goal": "Source Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-MOVE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.475273Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.480843Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-MOVE-002", "name": "Sprint 2", "goal": "Target Sprint", "cadence": "biweekly", "start_date": "2025-01-15", "end_date": "2025-01-28", "status": "planning", "owner": "tester", "primary_project": "P-MOVE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.482902Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-MOVE-002", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.486035Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-MOVE-001", "title": "Moving Task", "summary": "Test Summary", "description": "Test Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-MOVE-001", "primary_sprint": "S-MOVE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.490679Z", "level": "debug"}
{"model": "Task", "response_id": "T-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.506496Z", "level": "debug"}
{"model": "Task", "entity_id": "T-MOVE-001", "event": "service.update.start", "timestamp": "2025-12-29T03:11:51.508494Z", "level": "debug"}
PASSED
tests/integration/services/test_task_sprint_flow.py::test_sprint_closure_logic {"model": "Project", "request_data": {"id": "P-CLOSE-001", "name": "Closure Project", "mission": "Testing closure", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.540053Z", "level": "debug"}
{"model": "Project", "response_id": "P-CLOSE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.548057Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-CLOSE-001", "name": "Closing Sprint", "goal": "Closing Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-CLOSE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.552583Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-CLOSE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.559137Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-DONE-001", "title": "Done Task", "summary": "Done Summary", "description": "Done Description", "status": "done", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-CLOSE-001", "primary_sprint": "S-CLOSE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.561687Z", "level": "debug"}
{"model": "Task", "response_id": "T-DONE-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.569640Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-TODO-001", "title": "Todo Task", "summary": "Todo Summary", "description": "Todo Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-CLOSE-001", "primary_sprint": "S-CLOSE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.572129Z", "level": "debug"}
{"model": "Task", "response_id": "T-TODO-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.575216Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_create_task_with_invalid_project {"model": "Project", "request_data": {"id": "P-VALID-001", "name": "Valid Project", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.619540Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.630486Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-VALID-001", "name": "Valid Sprint", "goal": "Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-VALID-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.633925Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-VALID-001", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.639934Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_create_task_with_invalid_sprint {"model": "Project", "request_data": {"id": "P-VALID-002", "name": "Valid Project 2", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.670169Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-002", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.675730Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_update_task_with_invalid_foreign_keys {"model": "Project", "request_data": {"id": "P-VALID-003", "name": "Valid Project 3", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.734878Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-003", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.743168Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-VALID-003", "name": "Valid Sprint 3", "goal": "Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-VALID-003", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.746166Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-VALID-003", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.754343Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-UPDATE-TEST", "title": "Task to Update", "summary": "Summary", "description": "This task will be updated", "status": "new", "owner": "tester", "assignees": [], "priority": "p3", "severity": null, "primary_project": "P-VALID-003", "primary_sprint": "S-VALID-003", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T03:11:51.758387Z", "level": "debug"}
{"model": "Task", "response_id": "T-UPDATE-TEST", "event": "service.create.success", "timestamp": "2025-12-29T03:11:51.766590Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_create_returns_ok_result PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_get_existing_returns_ok PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_get_nonexistent_returns_err PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_update_returns_ok PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_delete_returns_ok {"model": "ActionList", "entity_id": "AL-0004", "event": "service.delete.success", "timestamp": "2025-12-29T03:11:51.926066Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_list_returns_ok {"model": "ActionList", "count": 3, "event": "service.list.success", "timestamp": "2025-12-29T03:11:51.973875Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_search_with_status_filter PASSED

====================================================== FAILURES =======================================================
________________________________ TestActionListIntegration.test_action_list_lifecycle _________________________________
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 344, in from_call
    |     result: TResult | None = func()
    |                              ^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 246, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 167, in _multicall
    |     raise exception
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\skipping.py", line 263, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 178, in pytest_runtest_call
    |     item.runtest()
    |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pytest_asyncio\plugin.py", line 549, in runtest
    |     super().runtest()
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\python.py", line 1671, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 167, in _multicall
    |     raise exception
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\python.py", line 157, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pytest_asyncio\plugin.py", line 1069, in inner
    |     _loop.run_until_complete(task)
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    |     return future.result()
    |            ^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\tests\integration\api\test_action_lists_api.py", line 22, in test_action_list_lifecycle
    |     create_res = await client.post("/api/v1/action-lists", json=create_payload)
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1905, in post
    |     return await self.request(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1585, in request
    |     return await self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1674, in send
    |     response = await self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1702, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1739, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1776, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_transports\asgi.py", line 157, in handle_async_request
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\middleware\logging_middleware.py", line 223, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\routers\action_lists.py", line 80, in create_action_list
    |     result = await service.create_action_list(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'ActionListService' object has no attribute 'create_action_list'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\tests\integration\api\test_action_lists_api.py", line 22, in test_action_list_lifecycle
    create_res = await client.post("/api/v1/action-lists", json=create_payload)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1905, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1585, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1674, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1702, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1739, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1776, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_transports\asgi.py", line 157, in handle_async_request
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\middleware\logging_middleware.py", line 223, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\routers\action_lists.py", line 80, in create_action_list
    result = await service.create_action_list(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ActionListService' object has no attribute 'create_action_list'

During handling of the above exception, another exception occurred:

self = <test_action_lists_api.TestActionListIntegration object at 0x00000214C0951D90>
client = <httpx.AsyncClient object at 0x00000214C1E2D610>

    async def test_action_list_lifecycle(self, client: AsyncClient):
        """Test complete action list lifecycle: Create -> Get -> Update -> Delete."""
        # 1. Create
        create_payload = {
            "id": "AL-INT-001",
            "title": "Integration Test List",
            "description": "Test Description",
            "status": "active",
            "items": [{"id": "Task-1", "text": "Task 1"}, {"id": "Task-2", "text": "Task 2"}],
        }
>       create_res = await client.post("/api/v1/action-lists", json=create_payload)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\integration\api\test_action_lists_api.py:22: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
.venv\Lib\site-packages\httpx\_client.py:1905: in post
    return await self.request(
.venv\Lib\site-packages\httpx\_client.py:1585: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_client.py:1674: in send
    response = await self._send_handling_auth(
.venv\Lib\site-packages\httpx\_client.py:1702: in _send_handling_auth
    response = await self._send_handling_redirects(
.venv\Lib\site-packages\httpx\_client.py:1739: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_client.py:1776: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_transports\asgi.py:157: in handle_async_request
    await self.app(scope, receive, send)
.venv\Lib\site-packages\fastapi\applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
.venv\Lib\site-packages\starlette\applications.py:112: in __call__
    await self.middleware_stack(scope, receive, send)
.venv\Lib\site-packages\starlette\middleware\errors.py:187: in __call__
    raise exc
.venv\Lib\site-packages\starlette\middleware\errors.py:165: in __call__
    await self.app(scope, receive, _send)
.venv\Lib\site-packages\starlette\middleware\base.py:176: in __call__
    with recv_stream, send_stream, collapse_excgroups():
C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py:158: in __exit__
    self.gen.throw(typ, value, traceback)
.venv\Lib\site-packages\starlette\_utils.py:82: in collapse_excgroups
    raise exc
.venv\Lib\site-packages\starlette\middleware\base.py:178: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\middleware\logging_middleware.py:223: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\starlette\middleware\base.py:156: in call_next
    raise app_exc
.venv\Lib\site-packages\starlette\middleware\base.py:141: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv\Lib\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
.venv\Lib\site-packages\starlette\middleware\exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
.venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
.venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv\Lib\site-packages\starlette\routing.py:714: in __call__
    await self.middleware_stack(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:734: in app
    await route.handle(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:288: in handle
    await self.app(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:76: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
.venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
.venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv\Lib\site-packages\starlette\routing.py:73: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\fastapi\routing.py:301: in app
    raw_response = await run_endpoint_function(
.venv\Lib\site-packages\fastapi\routing.py:212: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

data = ActionListCreate(id='AL-INT-001', title='Integration Test List', description='Test Description', status=<ActionListStatus.ACTIVE: 'active'>, owner=None, tags=[], project_id=None, sprint_id=None, items=[{'id': 'Task-1', 'text': 'Task 1'}, {'id': 'Task-2', 'text': 'Task 2'}], geometry_shape=None, priority=None, due_date=None, evidence_refs=[], extra_metadata={}, notes=None)
service = <taskman_api.services.action_list_service.ActionListService object at 0x00000214C1E3BE50>

    @router.post(
        "",
        response_model=ActionListResponse,
        status_code=http_status.HTTP_201_CREATED,
        summary="Create new action list",
        description="""
        Creates a new action list with the specified title, description, and optional metadata.
    
        The action list will be created with 'active' status by default. You can associate
        it with a project and sprint, add tags, and include checklist items.
    
        **ContextForge Integration**: Supports geometry_shape, priority, due_date, and evidence_refs.
    
        Returns the created ActionList with generated timestamps.
        """,
        responses={
            201: {
                "description": "Action list created successfully",
                "content": {
                    "application/json": {
                        "example": {
                            "id": "AL-backend-api-tasks",
                            "title": "Backend API Implementation",
                            "description": "Core API endpoints for TaskMan v2",
                            "status": "active",
                            "owner": "backend-team",
                            "tags": ["api", "backend", "sprint-1"],
                            "project_id": "PROJ-001",
                            "sprint_id": "SPRINT-2025-Q1",
                            "items": [
                                {"text": "Implement authentication", "completed": False, "order": 0}
                            ],
                            "priority": "high",
                            "due_date": "2025-12-31T23:59:59Z",
                            "created_at": "2025-12-28T10:30:00Z",
                            "updated_at": "2025-12-28T10:30:00Z",
                        }
                    }
                },
            },
            400: {"description": "Invalid request data - validation error or business rule violation"},
            401: {"description": "Unauthorized - missing or invalid JWT token"},
            422: {"description": "Unprocessable entity - semantic validation failure"},
            500: {"description": "Internal server error - unexpected system failure"},
        },
        tags=["Action Lists"],
    )
    async def create_action_list(
        data: ActionListCreate,
        service: ActionListSvc,
    ) -> ActionListResponse:
        """Create new action list endpoint handler."""
>       result = await service.create_action_list(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
            name=data.title,
            description=data.description or "",
            owner=data.owner or "system",
            project_id=data.project_id,
            sprint_id=data.sprint_id,
            tags=data.tags,
            priority=data.priority,
            due_date=data.due_date,
            items=data.items,
        )
E       AttributeError: 'ActionListService' object has no attribute 'create_action_list'

src\taskman_api\routers\action_lists.py:80: AttributeError
__________________________________ TestActionListIntegration.test_validation_errors ___________________________________
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 76, in collapse_excgroups
  |     yield
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 177, in __call__
  |     async with anyio.create_task_group() as task_group:
  |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 344, in from_call
    |     result: TResult | None = func()
    |                              ^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 246, in <lambda>
    |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 167, in _multicall
    |     raise exception
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\logging.py", line 850, in pytest_runtest_call
    |     yield
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\capture.py", line 900, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\skipping.py", line 263, in pytest_runtest_call
    |     return (yield)
    |             ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 178, in pytest_runtest_call
    |     item.runtest()
    |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pytest_asyncio\plugin.py", line 549, in runtest
    |     super().runtest()
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\python.py", line 1671, in runtest
    |     self.ihook.pytest_pyfunc_call(pyfuncitem=self)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
    |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
    |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 167, in _multicall
    |     raise exception
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
    |     teardown.throw(exception)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 53, in run_old_style_hookwrapper
    |     return result.get_result()
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_result.py", line 103, in get_result
    |     raise exc.with_traceback(tb)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 38, in run_old_style_hookwrapper
    |     res = yield
    |           ^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
    |     res = hook_impl.function(*args)
    |           ^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\python.py", line 157, in pytest_pyfunc_call
    |     result = testfunction(**testargs)
    |              ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "c:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pytest_asyncio\plugin.py", line 1069, in inner
    |     _loop.run_until_complete(task)
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\asyncio\base_events.py", line 654, in run_until_complete
    |     return future.result()
    |            ^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\tests\integration\api\test_action_lists_api.py", line 86, in test_validation_errors
    |     create_res = await client.post("/api/v1/action-lists", json=create_payload)
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1905, in post
    |     return await self.request(
    |            ^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1585, in request
    |     return await self.send(request, auth=auth, follow_redirects=follow_redirects)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1674, in send
    |     response = await self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1702, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1739, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1776, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_transports\asgi.py", line 157, in handle_async_request
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    |     await super().__call__(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    |     await self.app(scope, receive, _send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 176, in __call__
    |     with recv_stream, send_stream, collapse_excgroups():
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    |     self.gen.throw(typ, value, traceback)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
    |     response = await self.dispatch_func(request, call_next)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\middleware\logging_middleware.py", line 223, in dispatch
    |     response = await call_next(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    |     raise app_exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    |     await self.app(scope, receive_or_disconnect, send_no_error)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    |     await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    |     await self.middleware_stack(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 734, in app
    |     await route.handle(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    |     await self.app(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    |     await wrap_app_handling_exceptions(app, request)(scope, receive, send)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    |     raise exc
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    |     await app(scope, receive, sender)
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    |     response = await f(request)
    |                ^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    |     raw_response = await run_endpoint_function(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    |     return await dependant.call(**values)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\routers\action_lists.py", line 80, in create_action_list
    |     result = await service.create_action_list(
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
    | AttributeError: 'ActionListService' object has no attribute 'create_action_list'
    +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\tests\integration\api\test_action_lists_api.py", line 86, in test_validation_errors
    create_res = await client.post("/api/v1/action-lists", json=create_payload)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1905, in post
    return await self.request(
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1585, in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1674, in send
    response = await self._send_handling_auth(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1702, in _send_handling_auth
    response = await self._send_handling_redirects(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1739, in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_client.py", line 1776, in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\httpx\_transports\asgi.py", line 157, in handle_async_request
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 187, in __call__
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 176, in __call__
    with recv_stream, send_stream, collapse_excgroups():
  File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_utils.py", line 82, in collapse_excgroups
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 178, in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\middleware\logging_middleware.py", line 223, in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 156, in call_next
    raise app_exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\middleware\exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\starlette\routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\fastapi\routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\routers\action_lists.py", line 80, in create_action_list
    result = await service.create_action_list(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ActionListService' object has no attribute 'create_action_list'

During handling of the above exception, another exception occurred:

self = <test_action_lists_api.TestActionListIntegration object at 0x00000214C1CCB290>
client = <httpx.AsyncClient object at 0x00000214C27AC410>

    async def test_validation_errors(self, client: AsyncClient):
        """Test error conditions."""
    
        # Create a list first
        create_payload = {"id": "AL-INT-002", "title": "Validation Test", "status": "active"}
>       create_res = await client.post("/api/v1/action-lists", json=create_payload)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests\integration\api\test_action_lists_api.py:86: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
.venv\Lib\site-packages\httpx\_client.py:1905: in post
    return await self.request(
.venv\Lib\site-packages\httpx\_client.py:1585: in request
    return await self.send(request, auth=auth, follow_redirects=follow_redirects)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_client.py:1674: in send
    response = await self._send_handling_auth(
.venv\Lib\site-packages\httpx\_client.py:1702: in _send_handling_auth
    response = await self._send_handling_redirects(
.venv\Lib\site-packages\httpx\_client.py:1739: in _send_handling_redirects
    response = await self._send_single_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_client.py:1776: in _send_single_request
    response = await transport.handle_async_request(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\httpx\_transports\asgi.py:157: in handle_async_request
    await self.app(scope, receive, send)
.venv\Lib\site-packages\fastapi\applications.py:1054: in __call__
    await super().__call__(scope, receive, send)
.venv\Lib\site-packages\starlette\applications.py:112: in __call__
    await self.middleware_stack(scope, receive, send)
.venv\Lib\site-packages\starlette\middleware\errors.py:187: in __call__
    raise exc
.venv\Lib\site-packages\starlette\middleware\errors.py:165: in __call__
    await self.app(scope, receive, _send)
.venv\Lib\site-packages\starlette\middleware\base.py:176: in __call__
    with recv_stream, send_stream, collapse_excgroups():
C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\contextlib.py:158: in __exit__
    self.gen.throw(typ, value, traceback)
.venv\Lib\site-packages\starlette\_utils.py:82: in collapse_excgroups
    raise exc
.venv\Lib\site-packages\starlette\middleware\base.py:178: in __call__
    response = await self.dispatch_func(request, call_next)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\middleware\logging_middleware.py:223: in dispatch
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\starlette\middleware\base.py:156: in call_next
    raise app_exc
.venv\Lib\site-packages\starlette\middleware\base.py:141: in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
.venv\Lib\site-packages\starlette\middleware\cors.py:85: in __call__
    await self.app(scope, receive, send)
.venv\Lib\site-packages\starlette\middleware\exceptions.py:62: in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
.venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
.venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv\Lib\site-packages\starlette\routing.py:714: in __call__
    await self.middleware_stack(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:734: in app
    await route.handle(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:288: in handle
    await self.app(scope, receive, send)
.venv\Lib\site-packages\starlette\routing.py:76: in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
.venv\Lib\site-packages\starlette\_exception_handler.py:53: in wrapped_app
    raise exc
.venv\Lib\site-packages\starlette\_exception_handler.py:42: in wrapped_app
    await app(scope, receive, sender)
.venv\Lib\site-packages\starlette\routing.py:73: in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
.venv\Lib\site-packages\fastapi\routing.py:301: in app
    raw_response = await run_endpoint_function(
.venv\Lib\site-packages\fastapi\routing.py:212: in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

data = ActionListCreate(id='AL-INT-002', title='Validation Test', description=None, status=<ActionListStatus.ACTIVE: 'active'>, owner=None, tags=[], project_id=None, sprint_id=None, items=[], geometry_shape=None, priority=None, due_date=None, evidence_refs=[], extra_metadata={}, notes=None)
service = <taskman_api.services.action_list_service.ActionListService object at 0x00000214C2833810>

    @router.post(
        "",
        response_model=ActionListResponse,
        status_code=http_status.HTTP_201_CREATED,
        summary="Create new action list",
        description="""
        Creates a new action list with the specified title, description, and optional metadata.
    
        The action list will be created with 'active' status by default. You can associate
        it with a project and sprint, add tags, and include checklist items.
    
        **ContextForge Integration**: Supports geometry_shape, priority, due_date, and evidence_refs.
    
        Returns the created ActionList with generated timestamps.
        """,
        responses={
            201: {
                "description": "Action list created successfully",
                "content": {
                    "application/json": {
                        "example": {
                            "id": "AL-backend-api-tasks",
                            "title": "Backend API Implementation",
                            "description": "Core API endpoints for TaskMan v2",
                            "status": "active",
                            "owner": "backend-team",
                            "tags": ["api", "backend", "sprint-1"],
                            "project_id": "PROJ-001",
                            "sprint_id": "SPRINT-2025-Q1",
                            "items": [
                                {"text": "Implement authentication", "completed": False, "order": 0}
                            ],
                            "priority": "high",
                            "due_date": "2025-12-31T23:59:59Z",
                            "created_at": "2025-12-28T10:30:00Z",
                            "updated_at": "2025-12-28T10:30:00Z",
                        }
                    }
                },
            },
            400: {"description": "Invalid request data - validation error or business rule violation"},
            401: {"description": "Unauthorized - missing or invalid JWT token"},
            422: {"description": "Unprocessable entity - semantic validation failure"},
            500: {"description": "Internal server error - unexpected system failure"},
        },
        tags=["Action Lists"],
    )
    async def create_action_list(
        data: ActionListCreate,
        service: ActionListSvc,
    ) -> ActionListResponse:
        """Create new action list endpoint handler."""
>       result = await service.create_action_list(
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^
            name=data.title,
            description=data.description or "",
            owner=data.owner or "system",
            project_id=data.project_id,
            sprint_id=data.sprint_id,
            tags=data.tags,
            priority=data.priority,
            due_date=data.due_date,
            items=data.items,
        )
E       AttributeError: 'ActionListService' object has no attribute 'create_action_list'

src\taskman_api\routers\action_lists.py:80: AttributeError

---------- coverage: platform win32, python 3.11.9-final-0 -----------
Name                                                     Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------
src\taskman_api\auth.py                                     61     39      8      0  31.88%   41-44, 48, 52, 56, 85-99, 115-120, 156-179, 200-212, 232-246
src\taskman_api\config.py                                   62     16      6      0  67.65%   102-103, 114-115, 224-243, 249, 255, 261, 290
src\taskman_api\core\errors.py                              78     47     36      0  30.70%   48-57, 101-109, 134-146, 169-177, 199-205, 226-230, 253-259
src\taskman_api\core\result.py                              37      8      0      0  78.38%   40, 47, 50, 54, 66, 72, 76, 83
src\taskman_api\db\base.py                                   6      1      0      0  83.33%   32
src\taskman_api\db\connection_manager.py                    91     68     10      1  23.76%   66-68, 75-124, 135-165, 170-183
src\taskman_api\db\session.py                               27      8      4      0  61.29%   48-50, 63-64, 73-75, 85
src\taskman_api\dependencies.py                             45      8      0      0  82.22%   34-38, 48, 53, 58, 63
src\taskman_api\main.py                                    104     47     18      0  46.72%   55-78, 107-161, 234-249, 273, 296, 307
src\taskman_api\middleware\logging_middleware.py            85     15     32     11  72.65%   77, 98, 102, 123, 127, 133, 168, 193->197, 211->222, 249-255, 258->272, 261
src\taskman_api\models\action_list.py                       54      5      6      3  86.67%   35, 41, 47, 128, 133
src\taskman_api\models\project.py                           45      1      0      0  97.78%   91
src\taskman_api\models\sprint.py                            51      3      0      0  94.12%   44, 48, 101
src\taskman_api\repositories\action_list_repository.py      43     18     10      1  49.06%   27-32, 36-39, 59-64, 88-95, 99-101, 105-107, 111-112
src\taskman_api\repositories\base.py                        33      3      0      0  90.91%   66-71
src\taskman_api\repositories\project_repository.py          46     32     12      0  24.14%   24-27, 31-34, 38-41, 55-71, 82-94, 105-117
src\taskman_api\repositories\sprint_repository.py           51     36     14      0  23.08%   24-27, 31-34, 38-41, 45-48, 62-78, 91-105, 117-131
src\taskman_api\repositories\task_repository.py             81     49     42      3  33.33%   26-29, 33-34, 38-41, 48, 52-55, 81, 83, 85, 92-95, 98, 142-180, 201-233, 237-240
src\taskman_api\routers\action_lists.py                     84     59     20      0  24.04%   92-102, 167-188, 256-273, 344-361, 392-401, 442-453, 501-517, 562-578
src\taskman_api\routers\agent.py                            30     15      6      0  41.67%   32-72
src\taskman_api\routers\diagnostic.py                       20     14      0      0  30.00%   16-40
src\taskman_api\routers\projects.py                         73     49     32      0  22.86%   36-64, 74-86, 96-103, 115-126, 136-143
src\taskman_api\routers\sprints.py                         108     77     52      0  19.38%   42-70, 80-94, 104-111, 121-128, 140-151, 161-168, 176-185, 193-202
src\taskman_api\routers\tasks.py                            94     56     42      0  30.88%   47-48, 57-58, 72-83, 93-105, 115-122, 133-144, 154-161, 170-183
src\taskman_api\schemas\action_list.py                      82      1      2      1  97.62%   243
src\taskman_api\schemas\base.py                             53      3      6      1  89.83%   25-28
src\taskman_api\schemas\project.py                         163     28     26     10  76.72%   165, 185, 188-194, 213, 216-222, 231, 234-240, 247, 249, 252
src\taskman_api\schemas\sprint.py                          154     26     22      8  77.27%   148, 155, 167, 170-176, 185, 188-194, 203, 206-212
src\taskman_api\schemas\task.py                            193     30     28     10  78.28%   218, 226, 238, 241-247, 258, 261-267, 276, 279-285, 292, 295-297
src\taskman_api\services\action_list_service.py            112     64     32      3  36.81%   64-65, 74->81, 83, 86->85, 91-92, 117-118, 124-143, 149-157, 161-183, 189-211
src\taskman_api\services\base.py                           117     26     24      3  79.43%   76-78, 105-107, 150-151, 182-183, 210, 226->225, 237-238, 256, 269-270, 299-300, 314-318, 326-330
src\taskman_api\services\project_service.py                 97     74     36      0  17.29%   68-85, 115-175, 198-212, 232-246, 265-266, 290-300, 321-331
src\taskman_api\services\sprint_service.py                 141     93     48      1  28.04%   79-96, 114-120, 127, 129, 134-157, 184->186, 209-229, 262-325, 344-345, 369-380, 401-410, 431-440, 462-470
src\taskman_api\services\task_service.py                    91     43     28      1  49.58%   104->114, 159-178, 203-222, 248-249, 273-274, 303-322, 384-387, 409-417, 440-451
-----------------------------------------------------------------------------------------------------
TOTAL                                                     2841   1062    602     57  54.89%

12 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json

FAIL Required test coverage of 70.0% not reached. Total coverage: 54.89%
=============================================== short test summary info ===============================================
FAILED tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_action_list_lifecycle - AttributeError: 'ActionListService' object has no attribute 'create_action_list'
FAILED tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_validation_errors - AttributeError: 'ActionListService' object has no attribute 'create_action_list'
============================================ 2 failed, 26 passed in 6.07s =============================================
