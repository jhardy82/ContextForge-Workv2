================================================= test session starts =================================================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api
configfile: pyproject.toml
testpaths: tests
plugins: anyio-4.12.0, Faker-30.10.0, asyncio-0.26.0, cov-5.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 212 items

tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_action_list_lifecycle {"method": "POST", "path": "/api/v1/action-lists", "query": null, "correlation_id": "0eb3df92-bd13-400c-bc18-a997006287c9", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.820263Z", "level": "info"}
{"list_id": "AL-0001", "name": "Integration Test List", "event": "action_list_created", "timestamp": "2025-12-29T05:07:40.847786Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists", "status_code": 201, "duration_ms": 28.86, "correlation_id": "0eb3df92-bd13-400c-bc18-a997006287c9", "event": "http_response", "timestamp": "2025-12-29T05:07:40.848786Z", "level": "info"}
{"method": "GET", "path": "/api/v1/action-lists/AL-0001", "query": null, "correlation_id": "3399f1e4-fb48-4d27-82c5-4ee24d0aa42e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.850861Z", "level": "info"}
{"list_id": "AL-0001", "event": "action_list_retrieved", "timestamp": "2025-12-29T05:07:40.853860Z", "level": "info"}
{"method": "GET", "path": "/api/v1/action-lists/AL-0001", "status_code": 200, "duration_ms": 3.9, "correlation_id": "3399f1e4-fb48-4d27-82c5-4ee24d0aa42e", "event": "http_response", "timestamp": "2025-12-29T05:07:40.854860Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/action-lists/AL-0001", "query": null, "correlation_id": "0d454bca-faee-47c6-9bb9-c12c4e5cf1ff", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.854860Z", "level": "info"}
{"list_id": "AL-0001", "event": "action_list_updated", "timestamp": "2025-12-29T05:07:40.866545Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/action-lists/AL-0001", "status_code": 200, "duration_ms": 12.05, "correlation_id": "0d454bca-faee-47c6-9bb9-c12c4e5cf1ff", "event": "http_response", "timestamp": "2025-12-29T05:07:40.867542Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists/AL-0001/items", "query": null, "correlation_id": "a8a0825c-f44d-4804-8739-f835b3edd413", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.868541Z", "level": "info"}
{"list_id": "AL-0001", "event": "item_added_to_action_list", "timestamp": "2025-12-29T05:07:40.873088Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists/AL-0001/items", "status_code": 200, "duration_ms": 6.54, "correlation_id": "a8a0825c-f44d-4804-8739-f835b3edd413", "event": "http_response", "timestamp": "2025-12-29T05:07:40.875097Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/action-lists/AL-0001/items/New Task Item", "query": null, "correlation_id": "dbd57367-1022-4404-9cca-822e38629ef0", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.876734Z", "level": "info"}
{"list_id": "AL-0001", "item_id": "New Task Item", "event": "item_removed_from_action_list", "timestamp": "2025-12-29T05:07:40.881731Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/action-lists/AL-0001/items/New Task Item", "status_code": 204, "duration_ms": 5.75, "correlation_id": "dbd57367-1022-4404-9cca-822e38629ef0", "event": "http_response", "timestamp": "2025-12-29T05:07:40.881731Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/action-lists/AL-0001", "query": null, "correlation_id": "5f0b8dee-7a52-413c-9bb6-cc3a78260035", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.882730Z", "level": "info"}
{"model": "ActionList", "entity_id": "AL-0001", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:40.885775Z", "level": "debug"}
{"list_id": "AL-0001", "event": "action_list_deleted", "timestamp": "2025-12-29T05:07:40.885775Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/action-lists/AL-0001", "status_code": 204, "duration_ms": 3.54, "correlation_id": "5f0b8dee-7a52-413c-9bb6-cc3a78260035", "event": "http_response", "timestamp": "2025-12-29T05:07:40.886775Z", "level": "info"}
{"method": "GET", "path": "/api/v1/action-lists/AL-0001", "query": null, "correlation_id": "3c37c824-cdd5-4bdd-b632-b4ca9e245bef", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.886775Z", "level": "info"}
{"list_id": "AL-0001", "error": "NotFoundError('ActionList not found: AL-0001')", "event": "action_list_get_failed", "timestamp": "2025-12-29T05:07:40.888774Z", "level": "error"}
{"method": "GET", "path": "/api/v1/action-lists/AL-0001", "status_code": 404, "duration_ms": 2.24, "correlation_id": "3c37c824-cdd5-4bdd-b632-b4ca9e245bef", "event": "http_response", "timestamp": "2025-12-29T05:07:40.888774Z", "level": "warning"}
PASSED
tests/integration/api/test_action_lists_api.py::TestActionListIntegration::test_validation_errors {"method": "POST", "path": "/api/v1/action-lists", "query": null, "correlation_id": "25221645-e715-405c-9980-0dcdd99a223e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.918023Z", "level": "info"}
{"list_id": "AL-0002", "name": "Validation Test", "event": "action_list_created", "timestamp": "2025-12-29T05:07:40.926290Z", "level": "info"}
{"method": "POST", "path": "/api/v1/action-lists", "status_code": 201, "duration_ms": 9.57, "correlation_id": "25221645-e715-405c-9980-0dcdd99a223e", "event": "http_response", "timestamp": "2025-12-29T05:07:40.927461Z", "level": "info"}
{"method": "PATCH", "path": "/api/v1/action-lists/AL-0002/items/reorder", "query": null, "correlation_id": "300b0647-b0a2-4942-9179-2ea6f4a73d02", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.928310Z", "level": "info"}
{"list_id": "AL-0002", "error": "ValidationError(\"Item mismatch - unknown: ['NonExistentItem']\")", "event": "action_list_reorder_failed", "timestamp": "2025-12-29T05:07:40.932884Z", "level": "error"}
{"method": "PATCH", "path": "/api/v1/action-lists/AL-0002/items/reorder", "status_code": 400, "duration_ms": 4.5, "correlation_id": "300b0647-b0a2-4942-9179-2ea6f4a73d02", "event": "http_response", "timestamp": "2025-12-29T05:07:40.932884Z", "level": "warning"}
PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_crud_lifecycle {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "c71f09d1-16e7-4688-aaa0-4277204462ae", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:40.960869Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-LIFE-001", "name": "Lifecycle Project", "mission": "To test integration", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "project.mgr", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.029259Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.036769Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "name": "Lifecycle Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.036769Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 76.69, "correlation_id": "c71f09d1-16e7-4688-aaa0-4277204462ae", "event": "http_response", "timestamp": "2025-12-29T05:07:41.037769Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "459adc17-9991-499b-8b1d-08bbc0615dc6", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.038768Z", "level": "info"}
{"project_id": "P-INT-LIFE-001", "event": "project_retrieved", "timestamp": "2025-12-29T05:07:41.044769Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 7.17, "correlation_id": "459adc17-9991-499b-8b1d-08bbc0615dc6", "event": "http_response", "timestamp": "2025-12-29T05:07:41.045768Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "d022fc1b-b184-424f-8e27-cdecf7a34d0e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.046770Z", "level": "info"}
{"model": "Project", "entity_id": "P-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:41.056453Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "event": "project_updated", "timestamp": "2025-12-29T05:07:41.064595Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 18.53, "correlation_id": "d022fc1b-b184-424f-8e27-cdecf7a34d0e", "event": "http_response", "timestamp": "2025-12-29T05:07:41.065132Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "1ab3c596-c091-4d51-8484-406b8dc162e0", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.066158Z", "level": "info"}
{"project_id": "P-INT-LIFE-001", "event": "project_retrieved", "timestamp": "2025-12-29T05:07:41.068156Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 200, "duration_ms": 2.76, "correlation_id": "1ab3c596-c091-4d51-8484-406b8dc162e0", "event": "http_response", "timestamp": "2025-12-29T05:07:41.069156Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "6385ad50-880a-4aa0-a692-c7b703618124", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.069156Z", "level": "info"}
{"model": "Project", "entity_id": "P-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:41.072156Z", "level": "debug"}
{"project_id": "P-INT-LIFE-001", "event": "project_deleted", "timestamp": "2025-12-29T05:07:41.072156Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 204, "duration_ms": 3.27, "correlation_id": "6385ad50-880a-4aa0-a692-c7b703618124", "event": "http_response", "timestamp": "2025-12-29T05:07:41.073156Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "query": null, "correlation_id": "b5a32584-47cc-4828-a6a8-e9bb10fc2acb", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.073156Z", "level": "info"}
{"method": "GET", "path": "/api/v1/projects/P-INT-LIFE-001", "status_code": 404, "duration_ms": 4.06, "correlation_id": "b5a32584-47cc-4828-a6a8-e9bb10fc2acb", "event": "http_response", "timestamp": "2025-12-29T05:07:41.077157Z", "level": "warning"}
PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "50ba9c25-a4ef-4314-9e96-4aa5267451b8", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.106500Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 422, "duration_ms": 4.66, "correlation_id": "50ba9c25-a4ef-4314-9e96-4aa5267451b8", "event": "http_response", "timestamp": "2025-12-29T05:07:41.111500Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "0b8b2704-7402-4aa8-a825-30401f75cb91", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.112500Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 422, "duration_ms": 2.34, "correlation_id": "0b8b2704-7402-4aa8-a825-30401f75cb91", "event": "http_response", "timestamp": "2025-12-29T05:07:41.114501Z", "level": "warning"}
PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_project_metrics_endpoint PASSED
tests/integration/api/test_projects_api.py::TestProjectIntegration::test_duplicate_project_id {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "8e3c67b9-d274-48b3-a776-a9215a6094c3", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.179248Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-DUP-001", "name": "Original", "mission": "Dup test", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.181247Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-DUP-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.188263Z", "level": "debug"}
{"project_id": "P-INT-DUP-001", "name": "Original", "event": "project_created", "timestamp": "2025-12-29T05:07:41.188263Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 9.98, "correlation_id": "8e3c67b9-d274-48b3-a776-a9215a6094c3", "event": "http_response", "timestamp": "2025-12-29T05:07:41.189263Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "748584e2-4b57-42be-a36f-08b3da764e04", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.189263Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-DUP-001", "name": "Original", "mission": "Dup test", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.192266Z", "level": "debug"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 409, "duration_ms": 5.51, "correlation_id": "748584e2-4b57-42be-a36f-08b3da764e04", "event": "http_response", "timestamp": "2025-12-29T05:07:41.195262Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_management {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "755b099c-6f0b-4f25-a06c-fb87b1bcc2a5", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.238872Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.241875Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.249384Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.249384Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 11.25, "correlation_id": "755b099c-6f0b-4f25-a06c-fb87b1bcc2a5", "event": "http_response", "timestamp": "2025-12-29T05:07:41.249384Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "2efcd0c1-0947-4dd9-9cde-9d794b0cff3e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.251385Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-LIFE-001", "name": "Lifecycle Sprint", "goal": "Test Sprint Goal", "cadence": "biweekly", "start_date": "2025-02-01", "end_date": "2025-02-14", "status": "planning", "owner": "scrum.master", "primary_project": "P-SPRINT-TEST-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.269458Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.278650Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "name": "Lifecycle Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.278650Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 27.93, "correlation_id": "2efcd0c1-0947-4dd9-9cde-9d794b0cff3e", "event": "http_response", "timestamp": "2025-12-29T05:07:41.279744Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "09cbc6c3-53b8-4258-ae62-8a6d496a81e4", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.280692Z", "level": "info"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_retrieved", "timestamp": "2025-12-29T05:07:41.283692Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 4.24, "correlation_id": "09cbc6c3-53b8-4258-ae62-8a6d496a81e4", "event": "http_response", "timestamp": "2025-12-29T05:07:41.284692Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "15e559e7-034a-4372-8ca1-aa2f02411a0a", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.285202Z", "level": "info"}
{"model": "Sprint", "entity_id": "S-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:41.296202Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_updated", "timestamp": "2025-12-29T05:07:41.302201Z", "level": "info"}
{"method": "PUT", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 17.1, "correlation_id": "15e559e7-034a-4372-8ca1-aa2f02411a0a", "event": "http_response", "timestamp": "2025-12-29T05:07:41.302201Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "2f7f0ded-25d8-4309-849f-f1834aa32f95", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.303202Z", "level": "info"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_retrieved", "timestamp": "2025-12-29T05:07:41.305201Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 200, "duration_ms": 2.81, "correlation_id": "2f7f0ded-25d8-4309-849f-f1834aa32f95", "event": "http_response", "timestamp": "2025-12-29T05:07:41.306201Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "4afbbe35-65d4-4b18-b9a8-392c89b2ffa2", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.308205Z", "level": "info"}
{"model": "Sprint", "entity_id": "S-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:41.312201Z", "level": "debug"}
{"sprint_id": "S-INT-LIFE-001", "event": "sprint_deleted", "timestamp": "2025-12-29T05:07:41.312201Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 204, "duration_ms": 5.18, "correlation_id": "4afbbe35-65d4-4b18-b9a8-392c89b2ffa2", "event": "http_response", "timestamp": "2025-12-29T05:07:41.313201Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "query": null, "correlation_id": "349345cb-e0f4-4662-8bd4-8e8b773b54f5", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.313201Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-LIFE-001", "status_code": 404, "duration_ms": 2.18, "correlation_id": "349345cb-e0f4-4662-8bd4-8e8b773b54f5", "event": "http_response", "timestamp": "2025-12-29T05:07:41.316201Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "41503f8f-430d-4659-991b-17dbfda230db", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.343752Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.345751Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.351751Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.351751Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 8.28, "correlation_id": "41503f8f-430d-4659-991b-17dbfda230db", "event": "http_response", "timestamp": "2025-12-29T05:07:41.351751Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "778f3882-30c4-412b-8d92-6dba8faccbeb", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.353752Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 422, "duration_ms": 2.39, "correlation_id": "778f3882-30c4-412b-8d92-6dba8faccbeb", "event": "http_response", "timestamp": "2025-12-29T05:07:41.355751Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "afa96a17-83ed-42d6-a74f-cbbce9ce2d46", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.356752Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 422, "duration_ms": 4.4, "correlation_id": "afa96a17-83ed-42d6-a74f-cbbce9ce2d46", "event": "http_response", "timestamp": "2025-12-29T05:07:41.360752Z", "level": "warning"}
PASSED
tests/integration/api/test_sprints_api.py::TestSprintIntegration::test_sprint_velocity_calculation {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "91b21254-61d5-4808-bf1d-bef22b911ca1", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.394034Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "mission": "Sprint Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.396630Z", "level": "debug"}
{"model": "Project", "response_id": "P-SPRINT-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.403020Z", "level": "debug"}
{"project_id": "P-SPRINT-TEST-001", "name": "Sprint Test Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.403528Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 10.57, "correlation_id": "91b21254-61d5-4808-bf1d-bef22b911ca1", "event": "http_response", "timestamp": "2025-12-29T05:07:41.404609Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "25e7d8e0-9d15-45d0-8473-0fc3c21cf014", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.406717Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-VELOCITY", "name": "Velocity Sprint", "goal": "Test Velocity", "cadence": "biweekly", "start_date": "2025-02-01", "end_date": "2025-02-14", "status": "planning", "owner": "scrum.master", "primary_project": "P-SPRINT-TEST-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.415923Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-VELOCITY", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.425434Z", "level": "debug"}
{"sprint_id": "S-INT-VELOCITY", "name": "Velocity Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.425434Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 22.07, "correlation_id": "25e7d8e0-9d15-45d0-8473-0fc3c21cf014", "event": "http_response", "timestamp": "2025-12-29T05:07:41.428433Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "8d55a170-f581-48e9-adb7-1156c219bfd1", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.429434Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 26.22, "correlation_id": "8d55a170-f581-48e9-adb7-1156c219bfd1", "event": "http_response", "timestamp": "2025-12-29T05:07:41.455394Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "22c98968-b4ef-4a25-9422-812a10693074", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.457396Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 6.25, "correlation_id": "22c98968-b4ef-4a25-9422-812a10693074", "event": "http_response", "timestamp": "2025-12-29T05:07:41.463396Z", "level": "warning"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-VELOCITY/progress", "query": null, "correlation_id": "44c5039c-652e-496e-aaef-cf55cece0212", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.464924Z", "level": "info"}
{"sprint_id": "S-INT-VELOCITY", "event": "sprint_progress_retrieved", "timestamp": "2025-12-29T05:07:41.475443Z", "level": "info"}
{"method": "GET", "path": "/api/v1/sprints/S-INT-VELOCITY/progress", "status_code": 200, "duration_ms": 20.77, "correlation_id": "44c5039c-652e-496e-aaef-cf55cece0212", "event": "http_response", "timestamp": "2025-12-29T05:07:41.485557Z", "level": "info"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_create_task_full_lifecycle {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "3a7c14d7-ad72-41ca-b9b4-8f5ac0d69f8e", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.553684Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.559684Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.571316Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.571316Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 19.17, "correlation_id": "3a7c14d7-ad72-41ca-b9b4-8f5ac0d69f8e", "event": "http_response", "timestamp": "2025-12-29T05:07:41.573318Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "5213a2d6-fca6-46b1-8a64-a03e82d0e5c2", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.575315Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.583377Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.592888Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.592888Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 19.41, "correlation_id": "5213a2d6-fca6-46b1-8a64-a03e82d0e5c2", "event": "http_response", "timestamp": "2025-12-29T05:07:41.593889Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "a2a09d0a-c8c9-4f0e-a4db-926e3300ce1a", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.596887Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIFE-001", "title": "Lifecycle Task", "summary": "Testing full lifecycle", "description": "Detailed description", "status": "new", "owner": "test.user", "assignees": ["dev.one", "dev.two"], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": 5.0, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": ["integration", "test"], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.606023Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIFE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.621025Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "title": "Lifecycle Task", "event": "task_created", "timestamp": "2025-12-29T05:07:41.622024Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 26.37, "correlation_id": "a2a09d0a-c8c9-4f0e-a4db-926e3300ce1a", "event": "http_response", "timestamp": "2025-12-29T05:07:41.623024Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "1af3de99-ce48-4e0f-b812-aff0a6ee7443", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.626541Z", "level": "info"}
{"task_id": "T-INT-LIFE-001", "event": "task_retrieved", "timestamp": "2025-12-29T05:07:41.636137Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 10.93, "correlation_id": "1af3de99-ce48-4e0f-b812-aff0a6ee7443", "event": "http_response", "timestamp": "2025-12-29T05:07:41.637137Z", "level": "info"}
{"method": "PATCH", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "a2156754-ba96-41f9-adbd-e677cc956849", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.639717Z", "level": "info"}
{"model": "Task", "entity_id": "T-INT-LIFE-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:41.660820Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "event": "task_updated", "timestamp": "2025-12-29T05:07:41.666819Z", "level": "info"}
{"method": "PATCH", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 29.11, "correlation_id": "a2156754-ba96-41f9-adbd-e677cc956849", "event": "http_response", "timestamp": "2025-12-29T05:07:41.668820Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "6abd4662-7d8a-4231-a08c-b758acc12dfd", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.669820Z", "level": "info"}
{"task_id": "T-INT-LIFE-001", "event": "task_retrieved", "timestamp": "2025-12-29T05:07:41.672820Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 200, "duration_ms": 3.74, "correlation_id": "6abd4662-7d8a-4231-a08c-b758acc12dfd", "event": "http_response", "timestamp": "2025-12-29T05:07:41.673819Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "91069e73-ae69-4859-b7bb-41bd490ebfef", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.674820Z", "level": "info"}
{"model": "Task", "entity_id": "T-INT-LIFE-001", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:41.680820Z", "level": "debug"}
{"task_id": "T-INT-LIFE-001", "event": "task_deleted", "timestamp": "2025-12-29T05:07:41.680820Z", "level": "info"}
{"method": "DELETE", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 204, "duration_ms": 6.34, "correlation_id": "91069e73-ae69-4859-b7bb-41bd490ebfef", "event": "http_response", "timestamp": "2025-12-29T05:07:41.681819Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "query": null, "correlation_id": "2a603c6c-89e0-4daf-b3de-b7a1b463bf96", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.681819Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks/T-INT-LIFE-001", "status_code": 404, "duration_ms": 2.68, "correlation_id": "2a603c6c-89e0-4daf-b3de-b7a1b463bf96", "event": "http_response", "timestamp": "2025-12-29T05:07:41.684818Z", "level": "warning"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_task_validation_errors {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "ceccf66f-8127-4c36-a00e-f3c443a1c5dc", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.721909Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.723467Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.733242Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.733242Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 12.83, "correlation_id": "ceccf66f-8127-4c36-a00e-f3c443a1c5dc", "event": "http_response", "timestamp": "2025-12-29T05:07:41.734276Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "cff679f6-165f-41da-8757-f25c05cc7400", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.735326Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.740621Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.747619Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.747619Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 13.43, "correlation_id": "cff679f6-165f-41da-8757-f25c05cc7400", "event": "http_response", "timestamp": "2025-12-29T05:07:41.748619Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "43835f3b-85c3-43f6-8f9a-d827ff72d02d", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.750619Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 2.29, "correlation_id": "43835f3b-85c3-43f6-8f9a-d827ff72d02d", "event": "http_response", "timestamp": "2025-12-29T05:07:41.752619Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "6fbcba7a-94e8-4c64-9ec8-a21a64e6d668", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.753620Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 1.83, "correlation_id": "6fbcba7a-94e8-4c64-9ec8-a21a64e6d668", "event": "http_response", "timestamp": "2025-12-29T05:07:41.755619Z", "level": "warning"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "74193cea-4ec8-4af9-ac22-27d09217b5b1", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.755619Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 422, "duration_ms": 4.38, "correlation_id": "74193cea-4ec8-4af9-ac22-27d09217b5b1", "event": "http_response", "timestamp": "2025-12-29T05:07:41.760767Z", "level": "warning"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_list_tasks_pagination_and_filtering {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "64d445c2-3795-4f48-8321-3c459b5a7cdb", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.792728Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.795725Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.801725Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.801725Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 9.54, "correlation_id": "64d445c2-3795-4f48-8321-3c459b5a7cdb", "event": "http_response", "timestamp": "2025-12-29T05:07:41.802725Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "3104041f-ada2-475d-9bf3-33d4d2472a9c", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.803725Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.807725Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.814728Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.814728Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 11.58, "correlation_id": "3104041f-ada2-475d-9bf3-33d4d2472a9c", "event": "http_response", "timestamp": "2025-12-29T05:07:41.814728Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "cca13bdf-e71a-4534-9b93-8d00d8b86d33", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.816727Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-0", "title": "Task 0", "summary": "Summary 0", "description": "Desc", "status": "new", "owner": "owner.1", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.820726Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-0", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.829727Z", "level": "debug"}
{"task_id": "T-INT-LIST-0", "title": "Task 0", "event": "task_created", "timestamp": "2025-12-29T05:07:41.829727Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 13.7, "correlation_id": "cca13bdf-e71a-4534-9b93-8d00d8b86d33", "event": "http_response", "timestamp": "2025-12-29T05:07:41.830726Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "1b730113-e003-4b16-b975-b5ff9fce7d04", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.831727Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-1", "title": "Task 1", "summary": "Summary 1", "description": "Desc", "status": "new", "owner": "owner.1", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.835727Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-1", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.838727Z", "level": "debug"}
{"task_id": "T-INT-LIST-1", "title": "Task 1", "event": "task_created", "timestamp": "2025-12-29T05:07:41.838727Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 8.31, "correlation_id": "1b730113-e003-4b16-b975-b5ff9fce7d04", "event": "http_response", "timestamp": "2025-12-29T05:07:41.839726Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "e70efe69-1a28-4900-91d8-b6b337bfaefc", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.840726Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-2", "title": "Task 2", "summary": "Summary 2", "description": "Desc", "status": "new", "owner": "owner.2", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.845728Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-2", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.848726Z", "level": "debug"}
{"task_id": "T-INT-LIST-2", "title": "Task 2", "event": "task_created", "timestamp": "2025-12-29T05:07:41.849727Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 9.4, "correlation_id": "e70efe69-1a28-4900-91d8-b6b337bfaefc", "event": "http_response", "timestamp": "2025-12-29T05:07:41.849727Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "793aa2ab-cfcd-425e-8807-4e7b56eeea12", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.850726Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-3", "title": "Task 3", "summary": "Summary 3", "description": "Desc", "status": "done", "owner": "owner.2", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.853726Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-3", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.855725Z", "level": "debug"}
{"task_id": "T-INT-LIST-3", "title": "Task 3", "event": "task_created", "timestamp": "2025-12-29T05:07:41.855725Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 6.06, "correlation_id": "793aa2ab-cfcd-425e-8807-4e7b56eeea12", "event": "http_response", "timestamp": "2025-12-29T05:07:41.856726Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "21dd3dba-3df2-4bb3-b441-32cefca82e0b", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.857726Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-LIST-4", "title": "Task 4", "summary": "Summary 4", "description": "Desc", "status": "done", "owner": "owner.2", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.862829Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-LIST-4", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.865830Z", "level": "debug"}
{"task_id": "T-INT-LIST-4", "title": "Task 4", "event": "task_created", "timestamp": "2025-12-29T05:07:41.865830Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 8.64, "correlation_id": "21dd3dba-3df2-4bb3-b441-32cefca82e0b", "event": "http_response", "timestamp": "2025-12-29T05:07:41.865830Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "per_page=2&page=1", "correlation_id": "cb1af13f-2abe-4034-8e26-3589ac0e5ec5", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.866829Z", "level": "info"}
{"count": 2, "total": 5, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T05:07:41.872829Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 6.88, "correlation_id": "cb1af13f-2abe-4034-8e26-3589ac0e5ec5", "event": "http_response", "timestamp": "2025-12-29T05:07:41.873829Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "status=done", "correlation_id": "fd9e4009-8c6d-424b-8cca-c73f1d226561", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.875863Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T05:07:41.882907Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 7.98, "correlation_id": "fd9e4009-8c6d-424b-8cca-c73f1d226561", "event": "http_response", "timestamp": "2025-12-29T05:07:41.882907Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "priority=p2", "correlation_id": "9eb88871-25dc-4d78-a1fa-db2e187e9b20", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.883907Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T05:07:41.890477Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 8.48, "correlation_id": "9eb88871-25dc-4d78-a1fa-db2e187e9b20", "event": "http_response", "timestamp": "2025-12-29T05:07:41.892990Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "query": "owner=owner.1", "correlation_id": "e4149a66-fae5-4bc4-bf9c-5109fd428ee2", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.893988Z", "level": "info"}
{"count": 2, "total": 2, "page": 1, "event": "tasks_listed", "timestamp": "2025-12-29T05:07:41.900989Z", "level": "info"}
{"method": "GET", "path": "/api/v1/tasks", "status_code": 200, "duration_ms": 7.41, "correlation_id": "e4149a66-fae5-4bc4-bf9c-5109fd428ee2", "event": "http_response", "timestamp": "2025-12-29T05:07:41.900989Z", "level": "info"}
PASSED
tests/integration/api/test_tasks_api.py::TestTaskIntegration::test_duplicate_task_id {"method": "POST", "path": "/api/v1/projects", "query": null, "correlation_id": "22837458-9921-43c6-9afc-2d51d1b4c025", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.928551Z", "level": "info"}
{"model": "Project", "request_data": {"id": "P-INT-001", "name": "Integration Project", "mission": "Test Mission", "status": "active", "start_date": "2025-01-01", "target_end_date": null, "owner": "test.owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.931082Z", "level": "debug"}
{"model": "Project", "response_id": "P-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.936589Z", "level": "debug"}
{"project_id": "P-INT-001", "name": "Integration Project", "event": "project_created", "timestamp": "2025-12-29T05:07:41.936589Z", "level": "info"}
{"method": "POST", "path": "/api/v1/projects", "status_code": 201, "duration_ms": 8.42, "correlation_id": "22837458-9921-43c6-9afc-2d51d1b4c025", "event": "http_response", "timestamp": "2025-12-29T05:07:41.937622Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "query": null, "correlation_id": "d514838b-b64b-4596-a411-024c47acc9a3", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.938135Z", "level": "info"}
{"model": "Sprint", "request_data": {"id": "S-INT-001", "name": "Integration Sprint", "goal": "Test Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "active", "owner": "test.owner", "primary_project": "P-INT-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.943133Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INT-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.949131Z", "level": "debug"}
{"sprint_id": "S-INT-001", "name": "Integration Sprint", "event": "sprint_created", "timestamp": "2025-12-29T05:07:41.949131Z", "level": "info"}
{"method": "POST", "path": "/api/v1/sprints", "status_code": 201, "duration_ms": 11.42, "correlation_id": "d514838b-b64b-4596-a411-024c47acc9a3", "event": "http_response", "timestamp": "2025-12-29T05:07:41.949131Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "b36453a1-4ef6-4c7b-9476-8c3401c23113", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.951131Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-DUP-001", "title": "Original", "summary": "Summary", "description": "Desc", "status": "new", "owner": "owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.955648Z", "level": "debug"}
{"model": "Task", "response_id": "T-INT-DUP-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:41.963646Z", "level": "debug"}
{"task_id": "T-INT-DUP-001", "title": "Original", "event": "task_created", "timestamp": "2025-12-29T05:07:41.964645Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 201, "duration_ms": 13.86, "correlation_id": "b36453a1-4ef6-4c7b-9476-8c3401c23113", "event": "http_response", "timestamp": "2025-12-29T05:07:41.964645Z", "level": "info"}
{"method": "POST", "path": "/api/v1/tasks", "query": null, "correlation_id": "b82d002e-641c-4be9-b6a4-c6469d0e7015", "client_ip": "127.0.0.1", "event": "http_request", "timestamp": "2025-12-29T05:07:41.965648Z", "level": "info"}
{"model": "Task", "request_data": {"id": "T-INT-DUP-001", "title": "Original", "summary": "Summary", "description": "Desc", "status": "new", "owner": "owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-INT-001", "primary_sprint": "S-INT-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:41.971258Z", "level": "debug"}
{"method": "POST", "path": "/api/v1/tasks", "status_code": 409, "duration_ms": 7.06, "correlation_id": "b82d002e-641c-4be9-b6a4-c6469d0e7015", "event": "http_response", "timestamp": "2025-12-29T05:07:41.973259Z", "level": "warning"}
PASSED
tests/integration/services/test_cross_service_ops.py::test_full_workflow_simulation {"model": "Project", "request_data": {"id": "P-FULL-001", "name": "Full Workflow Project", "mission": "Testing full workflow", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.000322Z", "level": "debug"}
{"model": "Project", "response_id": "P-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.005319Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-FULL-001", "name": "Sprint 1", "goal": "Initial Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-FULL-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.009321Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.015320Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-FULL-001", "title": "Task 1", "summary": "Summary 1", "description": "Desc 1", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-FULL-001", "primary_sprint": "S-FULL-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.018320Z", "level": "debug"}
{"model": "Task", "response_id": "T-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.025322Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-FULL-002", "title": "Task 2", "summary": "Summary 2", "description": "Desc 2", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-FULL-001", "primary_sprint": "S-FULL-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.028319Z", "level": "debug"}
{"model": "Task", "response_id": "T-FULL-002", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.030885Z", "level": "debug"}
{"model": "Task", "entity_id": "T-FULL-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:42.030885Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-FULL-002", "name": "Sprint 2", "goal": "Next Sprint", "cadence": "biweekly", "start_date": "2025-01-15", "end_date": "2025-01-28", "status": "planning", "owner": "tester", "primary_project": "P-FULL-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.036887Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-FULL-002", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.038886Z", "level": "debug"}
{"model": "Task", "entity_id": "T-FULL-002", "event": "service.update.start", "timestamp": "2025-12-29T05:07:42.039885Z", "level": "debug"}
PASSED
tests/integration/services/test_project_sprint_flow.py::test_project_sprint_task_hierarchy {"model": "Project", "request_data": {"id": "P-INTEGRATION-001", "name": "Integration Project", "mission": "Testing hierarchy", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.073513Z", "level": "debug"}
{"model": "Project", "response_id": "P-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.080770Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-INTEGRATION-001", "name": "Sprint 1", "goal": "First Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-INTEGRATION-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.082770Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.088280Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-INTEGRATION-001", "title": "Integration Task", "summary": "Test Summary", "description": "Test Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-INTEGRATION-001", "primary_sprint": "S-INTEGRATION-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.090280Z", "level": "debug"}
{"model": "Task", "response_id": "T-INTEGRATION-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.099280Z", "level": "debug"}
PASSED
tests/integration/services/test_project_sprint_flow.py::test_orphan_prevention PASSED
tests/integration/services/test_task_sprint_flow.py::test_task_movement_between_sprints {"model": "Project", "request_data": {"id": "P-MOVE-001", "name": "Move Project", "mission": "Testing movement", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.164376Z", "level": "debug"}
{"model": "Project", "response_id": "P-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.170378Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-MOVE-001", "name": "Sprint 1", "goal": "Source Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-MOVE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.172376Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.181376Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-MOVE-002", "name": "Sprint 2", "goal": "Target Sprint", "cadence": "biweekly", "start_date": "2025-01-15", "end_date": "2025-01-28", "status": "planning", "owner": "tester", "primary_project": "P-MOVE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.182923Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-MOVE-002", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.186434Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-MOVE-001", "title": "Moving Task", "summary": "Test Summary", "description": "Test Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-MOVE-001", "primary_sprint": "S-MOVE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.190434Z", "level": "debug"}
{"model": "Task", "response_id": "T-MOVE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.201681Z", "level": "debug"}
{"model": "Task", "entity_id": "T-MOVE-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:42.202708Z", "level": "debug"}
PASSED
tests/integration/services/test_task_sprint_flow.py::test_sprint_closure_logic {"model": "Project", "request_data": {"id": "P-CLOSE-001", "name": "Closure Project", "mission": "Testing closure", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.237449Z", "level": "debug"}
{"model": "Project", "response_id": "P-CLOSE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.246450Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-CLOSE-001", "name": "Closing Sprint", "goal": "Closing Sprint", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-CLOSE-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.250450Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-CLOSE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.256449Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-DONE-001", "title": "Done Task", "summary": "Done Summary", "description": "Done Description", "status": "done", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-CLOSE-001", "primary_sprint": "S-CLOSE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.261451Z", "level": "debug"}
{"model": "Task", "response_id": "T-DONE-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.268449Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-TODO-001", "title": "Todo Task", "summary": "Todo Summary", "description": "Todo Description", "status": "new", "owner": "tester", "assignees": [], "priority": "p2", "severity": null, "primary_project": "P-CLOSE-001", "primary_sprint": "S-CLOSE-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.271450Z", "level": "debug"}
{"model": "Task", "response_id": "T-TODO-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.274449Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_create_task_with_invalid_project {"model": "Project", "request_data": {"id": "P-VALID-001", "name": "Valid Project", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.303147Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.309222Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-VALID-001", "name": "Valid Sprint", "goal": "Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-VALID-001", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.312173Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-VALID-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.318174Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_create_task_with_invalid_sprint {"model": "Project", "request_data": {"id": "P-VALID-002", "name": "Valid Project 2", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.347222Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-002", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.352775Z", "level": "debug"}
PASSED
tests/integration/services/test_task_validation.py::test_update_task_with_invalid_foreign_keys {"model": "Project", "request_data": {"id": "P-VALID-003", "name": "Valid Project 3", "mission": "Mission", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "tester", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.382626Z", "level": "debug"}
{"model": "Project", "response_id": "P-VALID-003", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.388858Z", "level": "debug"}
{"model": "Sprint", "request_data": {"id": "S-VALID-003", "name": "Valid Sprint 3", "goal": "Goal", "cadence": "biweekly", "start_date": "2025-01-01", "end_date": "2025-01-14", "status": "planning", "owner": "tester", "primary_project": "P-VALID-003", "tasks": [], "imported_tasks": [], "related_projects": [], "velocity_target_points": null, "committed_points": null, "actual_points": null, "carried_over_points": null, "definition_of_done": [], "dependencies": [], "scope_changes": [], "risks": [], "ceremonies": {}, "metrics": {}, "timezone": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.390859Z", "level": "debug"}
{"model": "Sprint", "response_id": "S-VALID-003", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.396889Z", "level": "debug"}
{"model": "Task", "request_data": {"id": "T-UPDATE-TEST", "title": "Task to Update", "summary": "Summary", "description": "This task will be updated", "status": "new", "owner": "tester", "assignees": [], "priority": "p3", "severity": null, "primary_project": "P-VALID-003", "primary_sprint": "S-VALID-003", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:42.399858Z", "level": "debug"}
{"model": "Task", "response_id": "T-UPDATE-TEST", "event": "service.create.success", "timestamp": "2025-12-29T05:07:42.405956Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_create_returns_ok_result PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_get_existing_returns_ok PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_get_nonexistent_returns_err PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_update_returns_ok PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_delete_returns_ok {"model": "ActionList", "entity_id": "AL-0006", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:42.563297Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_list_returns_ok {"model": "ActionList", "count": 3, "event": "service.list.success", "timestamp": "2025-12-29T05:07:42.603020Z", "level": "debug"}
PASSED
tests/integration/test_action_list_service.py::TestActionListServiceDirect::test_search_with_status_filter PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_create_success PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_create_conflict PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_by_id_success PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_by_id_not_found PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_all_success PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_update_success PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_update_not_found PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_delete_success PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_exists_true PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_exists_false PASSED
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_count PASSED
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_exists PASSED
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_get_by_owner PASSED
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_search_filters_and_pagination PASSED
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_create_project_method PASSED
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_update_project_method PASSED
tests/unit/db/repositories/test_repositories.py::TestProjectRepository::test_get_by_status PASSED
tests/unit/db/repositories/test_repositories.py::TestProjectRepository::test_get_active_projects PASSED
tests/unit/db/repositories/test_repositories.py::TestSprintRepository::test_get_by_status PASSED
tests/unit/db/repositories/test_repositories.py::TestSprintRepository::test_get_active_sprints PASSED
tests/unit/db/repositories/test_repositories.py::TestActionListRepository::test_get_active PASSED
tests/unit/db/repositories/test_repositories.py::TestActionListRepository::test_search_action_lists PASSED
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_exists PASSED
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_get_by_project PASSED
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_get_active_sprints PASSED
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_search_sprints PASSED
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_create_and_update_sprint_helpers PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_status PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_priority PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_owner PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_project PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_project_with_status_filter PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_sprint PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_status_and_priority PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_blocked_tasks PASSED
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_high_priority_tasks PASSED
tests/unit/db/test_connection_manager.py::test_init_creates_engines PASSED
tests/unit/db/test_connection_manager.py::test_get_session_primary_success PASSED
tests/unit/db/test_connection_manager.py::test_get_session_failover {"error": "Connection Failed", "action": "switching_to_fallback", "event": "primary_db_connection_failed", "timestamp": "2025-12-29T05:07:44.429393Z", "level": "warning"}
PASSED
tests/unit/db/test_connection_manager.py::test_health_check_reporting PASSED
tests/unit/db/test_connection_manager.py::test_health_check_primary_down {"error": "Down", "event": "primary_db_health_check_failed", "timestamp": "2025-12-29T05:07:44.445530Z", "level": "error"}
{"event": "switched_to_fallback_db", "timestamp": "2025-12-29T05:07:44.447529Z", "level": "warning"}
PASSED
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_create_request_valid PASSED
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_id_pattern_validation PASSED
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_update_request_partial PASSED
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_response_serialization PASSED
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_create_request_valid PASSED
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_id_pattern_validation PASSED
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_velocity_points_non_negative PASSED
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_update_request_partial PASSED
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_response_with_metrics PASSED
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_create_request_valid PASSED
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_with_associations PASSED
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_soft_delete_fields PASSED
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_update_request_partial PASSED
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_response_with_metadata PASSED
tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_strict_type_validation PASSED
tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_from_attributes_orm_mode PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_valid_task_create_request PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_task_id_pattern_validation_success PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_task_id_pattern_validation_failure PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_required_fields_validation PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_title_max_length_validation PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_estimate_points_non_negative PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_business_value_score_range PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_enum_field_validation PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_default_values PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_partial_update_all_fields_optional PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_update_with_multiple_fields PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_update_validation_rules_still_apply PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskResponse::test_response_from_orm_model PASSED
tests/unit/schemas/test_task_schemas.py::TestTaskResponse::test_response_serialization PASSED
tests/unit/services/test_base_service.py::TestBaseServiceCreate::test_create_success {"model": "Task", "request_data": {"id": "T-TEST-001", "title": "Test Task", "summary": "Summary", "description": "Description", "status": "new", "owner": "test.owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-TEST-001", "primary_sprint": "S-TEST-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:44.500091Z", "level": "debug"}
{"model": "Task", "response_id": "T-TEST-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:44.501091Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceCreate::test_create_conflict_error {"model": "Task", "request_data": {"id": "T-DUPLICATE", "title": "Task", "summary": "Summary", "description": "Description", "status": "new", "owner": "owner", "assignees": [], "priority": "p1", "severity": null, "primary_project": "P-001", "primary_sprint": "S-001", "related_projects": [], "related_sprints": [], "estimate_points": null, "actual_time_hours": null, "due_at": null, "parents": [], "depends_on": [], "blocks": [], "blockers": [], "acceptance_criteria": [], "definition_of_done": [], "quality_gates": {}, "verification": {}, "actions_taken": [], "labels": [], "related_links": [], "shape": null, "stage": null, "work_type": null, "work_stream": null, "business_value_score": null, "cost_of_delay_score": null, "automation_candidate": false, "cycle_time_days": null, "risks": [], "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:44.515331Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceGet::test_get_success PASSED
tests/unit/services/test_base_service.py::TestBaseServiceGet::test_get_not_found PASSED
tests/unit/services/test_base_service.py::TestBaseServiceUpdate::test_update_success {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.558388Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceUpdate::test_update_not_found {"model": "Task", "entity_id": "T-NONEXISTENT", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.573387Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceDelete::test_delete_success {"model": "Task", "entity_id": "T-TEST-001", "event": "service.delete.success", "timestamp": "2025-12-29T05:07:44.588387Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceDelete::test_delete_not_found PASSED
tests/unit/services/test_base_service.py::TestBaseServiceList::test_list_success {"model": "Task", "count": 1, "event": "service.list.success", "timestamp": "2025-12-29T05:07:44.620010Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceList::test_list_empty_result {"model": "Task", "count": 0, "event": "service.list.success", "timestamp": "2025-12-29T05:07:44.637881Z", "level": "debug"}
PASSED
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_exists_true PASSED
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_exists_false PASSED
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_count_success PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_minimum_fields {"model": "Project", "request_data": {"id": "P-MIN-001", "name": "Minimal Project", "mission": "Mission statement", "status": "planning", "start_date": "2025-01-01", "target_end_date": null, "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:44.698162Z", "level": "debug"}
{"model": "Project", "response_id": "P-MIN-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:44.699164Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_all_fields {"model": "Project", "request_data": {"id": "P-FULL-001", "name": "Full Project", "mission": "Mission statement", "status": "active", "start_date": "2025-01-01", "target_end_date": "2025-12-31", "owner": "owner", "sponsors": [], "stakeholders": [], "repositories": [], "comms_channels": [], "okrs": [], "kpis": [], "roadmap": [], "risks": [], "assumptions": [], "constraints": [], "dependencies_external": [], "sprints": [], "related_projects": [], "shared_components": [], "security_posture": null, "compliance_requirements": [], "governance": {}, "success_metrics": [], "mpv_policy": {}, "tnve_mandate": false, "evidence_root": null, "observability": {}}, "event": "service.create.start", "timestamp": "2025-12-29T05:07:44.713027Z", "level": "debug"}
{"model": "Project", "response_id": "P-FULL-001", "event": "service.create.success", "timestamp": "2025-12-29T05:07:44.714023Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_update_project_partial_single_field {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.730537Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_update_project_empty_mission {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.747727Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceStatusTransitions::test_change_status_success {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.766728Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceStatusTransitions::test_change_status_project_not_found {"model": "Project", "entity_id": "P-NONEXISTENT", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.781029Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_sprint_to_project {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.795583Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_duplicate_sprint_idempotent PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_remove_sprint_from_project {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.847624Z", "level": "debug"}
PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceMetrics::test_get_metrics_no_tasks PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceMetrics::test_get_metrics_project_not_found PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSearchAndFiltering::test_get_by_status_no_results PASSED
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSearchAndFiltering::test_get_by_owner_no_results PASSED
tests/unit/services/test_services.py::TestProjectService::test_get_metrics_success PASSED
tests/unit/services/test_services.py::TestProjectService::test_add_sprint PASSED
tests/unit/services/test_services.py::TestProjectService::test_remove_sprint PASSED
tests/unit/services/test_services.py::TestProjectService::test_change_status {"model": "Project", "entity_id": "P-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:44.994628Z", "level": "debug"}
PASSED
tests/unit/services/test_services.py::TestProjectService::test_get_by_status PASSED
tests/unit/services/test_services.py::TestProjectService::test_get_by_owner PASSED
tests/unit/services/test_services.py::TestSprintService::test_calculate_velocity PASSED
tests/unit/services/test_services.py::TestSprintService::test_get_burndown PASSED
tests/unit/services/test_services.py::TestSprintService::test_change_status {"model": "Sprint", "entity_id": "S-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.104272Z", "level": "debug"}
PASSED
tests/unit/services/test_services.py::TestSprintService::test_get_current_sprints PASSED
tests/unit/services/test_services.py::TestSprintService::test_get_by_project PASSED
tests/unit/services/test_services.py::TestSprintService::test_update_metrics {"model": "Sprint", "entity_id": "S-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.229523Z", "level": "debug"}
PASSED
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_success PASSED
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_invalid_length PASSED
tests/unit/services/test_services.py::TestActionListService::test_mark_complete SKIPPED (Method mark_complete
not implemented - ADR-001 backlog)
tests/unit/services/test_services.py::TestActionListService::test_add_item PASSED
tests/unit/services/test_services.py::TestActionListService::test_remove_item PASSED
tests/unit/services/test_services.py::TestActionListService::test_get_orphaned SKIPPED (Method get_orphaned not
implemented - ADR-001 backlog)
tests/unit/services/test_services.py::TestActionListService::test_get_soft_deleted SKIPPED (Method
get_soft_deleted not implemented - ADR-001 backlog)
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_calculate_velocity_mixed_tasks PASSED
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_get_burndown_calculations PASSED
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceSerialization::test_deserialize_maps_primary_project PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_valid_transition {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.381269Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_invalid_transition PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_not_found PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_new_to_ready PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_ready_to_in_progress PASSED
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_done_to_any_is_invalid PASSED
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_sprint {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.450200Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_project {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.471906Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_success {"model": "Task", "entity_id": "T-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.489904Z", "level": "debug"}
{"model": "Task", "entity_id": "T-002", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.489904Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_fails_fast {"model": "Task", "entity_id": "T-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.507804Z", "level": "debug"}
{"model": "Task", "entity_id": "T-002", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.507804Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status PASSED
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status_and_priority PASSED
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_high_priority_tasks PASSED
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_blocked_tasks PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_new_to_ready {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.600912Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_blocked {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.619422Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_done {"model": "Task", "entity_id": "T-TEST-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.636933Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_new PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_in_progress PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_dropped_to_ready PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_new_to_done PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_ready_to_blocked PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_partial_failure_fails_fast {"model": "Task", "entity_id": "T-001", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.747313Z", "level": "debug"}
{"model": "Task", "entity_id": "T-NONEXISTENT", "event": "service.update.start", "timestamp": "2025-12-29T05:07:45.748312Z", "level": "debug"}
PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_empty_list PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_sprint PASSED
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_project PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_valid_database_config PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_connection_string_generation PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_async_connection_string_generation PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_invalid_port_too_low PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_invalid_port_too_high PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_empty_user_rejected PASSED
tests/unit/test_config.py::TestDatabaseConfig::test_default_values PASSED
tests/unit/test_config.py::TestRedisConfig::test_valid_redis_config PASSED
tests/unit/test_config.py::TestRedisConfig::test_default_values PASSED
tests/unit/test_config.py::TestRedisConfig::test_invalid_url_pattern PASSED
tests/unit/test_config.py::TestRedisConfig::test_timeout_validation PASSED
tests/unit/test_config.py::TestRedisConfig::test_db_number_validation PASSED
tests/unit/test_config.py::TestSettings::test_valid_settings_development FAILED
tests/unit/test_config.py::TestSettings::test_valid_settings_production FAILED
tests/unit/test_config.py::TestSettings::test_production_rejects_insecure_secret_key PASSED
tests/unit/test_config.py::TestSettings::test_production_rejects_insecure_jwt_secret PASSED
tests/unit/test_config.py::TestSettings::test_development_allows_insecure_secrets FAILED
tests/unit/test_config.py::TestSettings::test_secret_key_min_length_32 PASSED
tests/unit/test_config.py::TestSettings::test_optional_redis_config FAILED
tests/unit/test_config.py::TestSettings::test_with_redis_config FAILED
tests/unit/test_config.py::TestSettings::test_invalid_environment PASSED
tests/unit/test_config.py::TestSettings::test_extra_fields_rejected PASSED
tests/unit/test_config.py::TestSettings::test_environment_helpers FAILED
tests/unit/test_config.py::TestGetSettings::test_settings_cached FAILED
tests/unit/test_config.py::TestGetSettings::test_cache_clear FAILED
tests/unit/test_fixtures.py::TestDatabaseConfigFixture::test_fixture_provides_isolated_config PASSED
tests/unit/test_fixtures.py::TestDatabaseConfigFixture::test_fixture_connection_string PASSED
tests/unit/test_fixtures.py::TestRedisConfigFixture::test_fixture_provides_isolated_config PASSED
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_provides_complete_settings ERROR
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_database ERROR
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_redis ERROR
tests/unit/test_fixtures.py::TestMinimalSettingsFixture::test_fixture_provides_minimal_config ERROR
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_simulates_production ERROR
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_database ERROR
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_redis ERROR
tests/unit/test_fixtures.py::TestCacheClearFixture::test_cache_cleared_between_tests_1 PASSED
tests/unit/test_fixtures.py::TestCacheClearFixture::test_cache_cleared_between_tests_2 PASSED
tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_environment_set_to_testing PASSED
tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_settings_default_to_testing ERROR

======================================================= ERRORS ========================================================
____________________ ERROR at setup of TestSettingsFixture.test_fixture_provides_complete_settings ____________________

test_database_config = DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), database='taskman_t...kman_test', async_connection_string='postgresql+asyncpg://taskman_test:test_password_safe@localhost:5433/taskman_test')
test_redis_config = RedisConfig(url='redis://localhost:6379', timeout=5, db=15)

    @pytest.fixture
    def test_settings(
        test_database_config: DatabaseConfig,
        test_redis_config: RedisConfig,
    ) -> Settings:
        """
        Provide complete test settings configuration.
    
        Args:
            test_database_config: Isolated database configuration
            test_redis_config: Isolated Redis configuration
    
        Returns:
            Settings configured for testing environment
    
        Example:
            >>> def test_app(test_settings):
            ...     assert test_settings.environment == "testing"
            ...     assert test_settings.debug is True
        """
>       return Settings(
            environment="testing",
            database=test_database_config,
            redis=test_redis_config,
            secret_key=SecretStr("test-secret-key-min-32-characters"),
            jwt_secret=SecretStr("test-jwt-secret-min-32-characters"),
        )

tests\conftest.py:103: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb33aca00>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), databa...ing', 'jwt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://localhost:6379', timeout=5, db=15), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
________________________ ERROR at setup of TestSettingsFixture.test_fixture_includes_database _________________________

test_database_config = DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), database='taskman_t...kman_test', async_connection_string='postgresql+asyncpg://taskman_test:test_password_safe@localhost:5433/taskman_test')
test_redis_config = RedisConfig(url='redis://localhost:6379', timeout=5, db=15)

    @pytest.fixture
    def test_settings(
        test_database_config: DatabaseConfig,
        test_redis_config: RedisConfig,
    ) -> Settings:
        """
        Provide complete test settings configuration.
    
        Args:
            test_database_config: Isolated database configuration
            test_redis_config: Isolated Redis configuration
    
        Returns:
            Settings configured for testing environment
    
        Example:
            >>> def test_app(test_settings):
            ...     assert test_settings.environment == "testing"
            ...     assert test_settings.debug is True
        """
>       return Settings(
            environment="testing",
            database=test_database_config,
            redis=test_redis_config,
            secret_key=SecretStr("test-secret-key-min-32-characters"),
            jwt_secret=SecretStr("test-jwt-secret-min-32-characters"),
        )

tests\conftest.py:103: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb363d630>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), databa...ing', 'jwt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://localhost:6379', timeout=5, db=15), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
__________________________ ERROR at setup of TestSettingsFixture.test_fixture_includes_redis __________________________

test_database_config = DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), database='taskman_t...kman_test', async_connection_string='postgresql+asyncpg://taskman_test:test_password_safe@localhost:5433/taskman_test')
test_redis_config = RedisConfig(url='redis://localhost:6379', timeout=5, db=15)

    @pytest.fixture
    def test_settings(
        test_database_config: DatabaseConfig,
        test_redis_config: RedisConfig,
    ) -> Settings:
        """
        Provide complete test settings configuration.
    
        Args:
            test_database_config: Isolated database configuration
            test_redis_config: Isolated Redis configuration
    
        Returns:
            Settings configured for testing environment
    
        Example:
            >>> def test_app(test_settings):
            ...     assert test_settings.environment == "testing"
            ...     assert test_settings.debug is True
        """
>       return Settings(
            environment="testing",
            database=test_database_config,
            redis=test_redis_config,
            secret_key=SecretStr("test-secret-key-min-32-characters"),
            jwt_secret=SecretStr("test-jwt-secret-min-32-characters"),
        )

tests\conftest.py:103: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb39cd6d0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), databa...ing', 'jwt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://localhost:6379', timeout=5, db=15), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
__________________ ERROR at setup of TestMinimalSettingsFixture.test_fixture_provides_minimal_config __________________

    @pytest.fixture
    def minimal_test_settings() -> Settings:
        """
        Provide minimal test settings without Redis.
    
        Useful for tests that don't require caching.
    
        Returns:
            Settings with only required configuration
    
        Example:
            >>> def test_no_cache(minimal_test_settings):
            ...     assert minimal_test_settings.redis is None
        """
>       return Settings(
            environment="testing",
            database=DatabaseConfig(
                host="localhost",
                port=5433,
                user="taskman_test",
                password=SecretStr("test_password"),
                database="taskman_test",
            ),
            redis=None,  # No Redis for minimal tests
            secret_key=SecretStr("test-secret-key-min-32-characters"),
            jwt_secret=SecretStr("test-jwt-secret-min-32-characters"),
        )

tests\conftest.py:126: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb363dd60>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), databa...ord@localhost:5433/taskman_test'), 'environment': 'testing', 'jwt_secret': SecretStr('**********'), 'redis': None, ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
____________________ ERROR at setup of TestProductionLikeFixture.test_fixture_simulates_production ____________________

    @pytest.fixture
    def production_like_settings() -> Settings:
        """
        Provide production-like settings for integration tests.
    
        Returns:
            Settings configured with production environment constraints
    
        Example:
            >>> def test_prod_validation(production_like_settings):
            ...     assert production_like_settings.is_production is True
            ...     assert production_like_settings.debug is False
        """
>       return Settings(
            environment="production",
            database=DatabaseConfig(
                host="db.example.com",
                port=5432,
                user="taskman_prod",
                password=SecretStr("production_secure_password_123"),
                database="taskman_production",
            ),
            redis=RedisConfig(
                url="redis://cache.example.com:6379",
                timeout=10,
                db=0,
            ),
            secret_key=SecretStr("production-secret-key-min-32-chars"),
            jwt_secret=SecretStr("production-jwt-secret-min-32-chars"),
        )

tests\conftest.py:154: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb39cd590>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='db.example.com', port=5432, user='taskman_prod', password=SecretStr('**********'), d...wt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://cache.example.com:6379', timeout=10, db=0), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
__________________ ERROR at setup of TestProductionLikeFixture.test_fixture_has_production_database ___________________

    @pytest.fixture
    def production_like_settings() -> Settings:
        """
        Provide production-like settings for integration tests.
    
        Returns:
            Settings configured with production environment constraints
    
        Example:
            >>> def test_prod_validation(production_like_settings):
            ...     assert production_like_settings.is_production is True
            ...     assert production_like_settings.debug is False
        """
>       return Settings(
            environment="production",
            database=DatabaseConfig(
                host="db.example.com",
                port=5432,
                user="taskman_prod",
                password=SecretStr("production_secure_password_123"),
                database="taskman_production",
            ),
            redis=RedisConfig(
                url="redis://cache.example.com:6379",
                timeout=10,
                db=0,
            ),
            secret_key=SecretStr("production-secret-key-min-32-chars"),
            jwt_secret=SecretStr("production-jwt-secret-min-32-chars"),
        )

tests\conftest.py:154: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb39ce0d0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='db.example.com', port=5432, user='taskman_prod', password=SecretStr('**********'), d...wt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://cache.example.com:6379', timeout=10, db=0), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
____________________ ERROR at setup of TestProductionLikeFixture.test_fixture_has_production_redis ____________________

    @pytest.fixture
    def production_like_settings() -> Settings:
        """
        Provide production-like settings for integration tests.
    
        Returns:
            Settings configured with production environment constraints
    
        Example:
            >>> def test_prod_validation(production_like_settings):
            ...     assert production_like_settings.is_production is True
            ...     assert production_like_settings.debug is False
        """
>       return Settings(
            environment="production",
            database=DatabaseConfig(
                host="db.example.com",
                port=5432,
                user="taskman_prod",
                password=SecretStr("production_secure_password_123"),
                database="taskman_production",
            ),
            redis=RedisConfig(
                url="redis://cache.example.com:6379",
                timeout=10,
                db=0,
            ),
            secret_key=SecretStr("production-secret-key-min-32-chars"),
            jwt_secret=SecretStr("production-jwt-secret-min-32-chars"),
        )

tests\conftest.py:154: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb3056fd0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='db.example.com', port=5432, user='taskman_prod', password=SecretStr('**********'), d...wt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://cache.example.com:6379', timeout=10, db=0), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
_____________________ ERROR at setup of TestEnvironmentIsolation.test_settings_default_to_testing _____________________

test_database_config = DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), database='taskman_t...kman_test', async_connection_string='postgresql+asyncpg://taskman_test:test_password_safe@localhost:5433/taskman_test')
test_redis_config = RedisConfig(url='redis://localhost:6379', timeout=5, db=15)

    @pytest.fixture
    def test_settings(
        test_database_config: DatabaseConfig,
        test_redis_config: RedisConfig,
    ) -> Settings:
        """
        Provide complete test settings configuration.
    
        Args:
            test_database_config: Isolated database configuration
            test_redis_config: Isolated Redis configuration
    
        Returns:
            Settings configured for testing environment
    
        Example:
            >>> def test_app(test_settings):
            ...     assert test_settings.environment == "testing"
            ...     assert test_settings.debug is True
        """
>       return Settings(
            environment="testing",
            database=test_database_config,
            redis=test_redis_config,
            secret_key=SecretStr("test-secret-key-min-32-characters"),
            jwt_secret=SecretStr("test-jwt-secret-min-32-characters"),
        )

tests\conftest.py:103: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb32fa990>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5433, user='taskman_test', password=SecretStr('**********'), databa...ing', 'jwt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://localhost:6379', timeout=5, db=15), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
====================================================== FAILURES =======================================================
____________________________________ TestSettings.test_valid_settings_development _____________________________________

self = <test_config.TestSettings object at 0x000002ABB300FD50>

    def test_valid_settings_development(self):
        """Test valid settings for development environment."""
>       settings = Settings(
            environment="development",
            database=DatabaseConfig(
                host="localhost",
                port=5432,
                user="taskman",
                password=SecretStr("dev_password"),
                database="taskman_dev",
            ),
            secret_key=SecretStr("dev-secret-key-min-32-characters"),
            jwt_secret=SecretStr("dev-jwt-secret-min-32-characters"),
        )

tests\unit\test_config.py:176: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb33addb0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5432, user='taskman', password=SecretStr('**********'), database='t...kman_dev'), 'environment': 'development', 'jwt_secret': SecretStr('**********'), 'secret_key': SecretStr('**********')}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
_____________________________________ TestSettings.test_valid_settings_production _____________________________________

self = <test_config.TestSettings object at 0x000002ABB3014410>

    def test_valid_settings_production(self):
        """Test valid settings for production environment."""
>       settings = Settings(
            environment="production",
            database=DatabaseConfig(
                host="db.example.com",
                port=5432,
                user="taskman_prod",
                password=SecretStr("prod_secure_password_123"),
                database="taskman_production",
            ),
            secret_key=SecretStr("production-secret-key-min-32-chars"),
            jwt_secret=SecretStr("production-jwt-secret-min-32-chars"),
        )

tests\unit\test_config.py:198: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb35445a0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='db.example.com', port=5432, user='taskman_prod', password=SecretStr('**********'), d...roduction'), 'environment': 'production', 'jwt_secret': SecretStr('**********'), 'secret_key': SecretStr('**********')}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
________________________________ TestSettings.test_development_allows_insecure_secrets ________________________________

self = <test_config.TestSettings object at 0x000002ABB30157D0>

    def test_development_allows_insecure_secrets(self):
        """Test that development environment allows test secrets."""
>       settings = Settings(
            environment="development",
            database=DatabaseConfig(
                host="localhost",
                port=5432,
                user="taskman",
                password=SecretStr("password"),
                database="taskman_db",
            ),
            secret_key=SecretStr("INSECURE_DEV_KEY_32_CHARACTERS_MIN"),
            jwt_secret=SecretStr("test-key-for-development-32-chars"),
        )

tests\unit\test_config.py:249: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb3544410>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5432, user='taskman', password=SecretStr('**********'), database='t...skman_db'), 'environment': 'development', 'jwt_secret': SecretStr('**********'), 'secret_key': SecretStr('**********')}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
_______________________________________ TestSettings.test_optional_redis_config _______________________________________

self = <test_config.TestSettings object at 0x000002ABB300D6D0>

    def test_optional_redis_config(self):
        """Test that Redis configuration is optional."""
>       settings = Settings(
            environment="development",
            database=DatabaseConfig(
                host="localhost",
                port=5432,
                user="taskman",
                password=SecretStr("password"),
                database="taskman_db",
            ),
            redis=None,  # Optional
            secret_key=SecretStr("dev-secret-key-min-32-characters"),
            jwt_secret=SecretStr("dev-jwt-secret-min-32-characters"),
        )

tests\unit\test_config.py:283: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb35fd090>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5432, user='taskman', password=SecretStr('**********'), database='t...d@localhost:5432/taskman_db'), 'environment': 'development', 'jwt_secret': SecretStr('**********'), 'redis': None, ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
_________________________________________ TestSettings.test_with_redis_config _________________________________________

self = <test_config.TestSettings object at 0x000002ABB3014FD0>

    def test_with_redis_config(self):
        """Test settings with Redis configuration provided."""
>       settings = Settings(
            environment="development",
            database=DatabaseConfig(
                host="localhost",
                port=5432,
                user="taskman",
                password=SecretStr("password"),
                database="taskman_db",
            ),
            redis=RedisConfig(
                url="redis://cache.example.com:6379",
                db=1,
            ),
            secret_key=SecretStr("dev-secret-key-min-32-characters"),
            jwt_secret=SecretStr("dev-jwt-secret-min-32-characters"),
        )

tests\unit\test_config.py:301: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb35e2080>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5432, user='taskman', password=SecretStr('**********'), database='t...jwt_secret': SecretStr('**********'), 'redis': RedisConfig(url='redis://cache.example.com:6379', timeout=5, db=1), ...}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
________________________________________ TestSettings.test_environment_helpers ________________________________________

self = <test_config.TestSettings object at 0x000002ABB3016590>

    def test_environment_helpers(self):
        """Test environment helper properties."""
        # Development
>       dev_settings = Settings(
            environment="development",
            database=DatabaseConfig(
                host="localhost",
                port=5432,
                user="taskman",
                password=SecretStr("password"),
                database="taskman_db",
            ),
            secret_key=SecretStr("dev-secret-key-min-32-characters"),
            jwt_secret=SecretStr("dev-jwt-secret-min-32-characters"),
        )

tests\unit\test_config.py:348: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb33acb40>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None
values = {'database': DatabaseConfig(host='localhost', port=5432, user='taskman', password=SecretStr('**********'), database='t...skman_db'), 'environment': 'development', 'jwt_secret': SecretStr('**********'), 'secret_key': SecretStr('**********')}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
________________________________________ TestGetSettings.test_settings_cached _________________________________________

self = <test_config.TestGetSettings object at 0x000002ABB3016D50>
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x000002ABB338C390>

    def test_settings_cached(self, monkeypatch):
        """Test that settings are cached across calls."""
        # Set environment variables for this test
        monkeypatch.setenv("APP_ENVIRONMENT", "testing")
        monkeypatch.setenv("APP_DATABASE__HOST", "localhost")
        monkeypatch.setenv("APP_DATABASE__PORT", "5432")
        monkeypatch.setenv("APP_DATABASE__USER", "taskman")
        monkeypatch.setenv("APP_DATABASE__PASSWORD", "test_password")
        monkeypatch.setenv("APP_DATABASE__DATABASE", "taskman_test")
        monkeypatch.setenv("APP_SECRET_KEY", "test-secret-key-min-32-characters")
        monkeypatch.setenv("APP_JWT_SECRET", "test-jwt-secret-min-32-characters")
    
        # First call
>       settings1 = get_settings()
                    ^^^^^^^^^^^^^^

tests\unit\test_config.py:422: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
src\taskman_api\config.py:290: in get_settings
    return Settings()
           ^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb3941c20>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None, values = {}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError
__________________________________________ TestGetSettings.test_cache_clear ___________________________________________

self = <test_config.TestGetSettings object at 0x000002ABB3017110>
monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x000002ABB364F8D0>

    def test_cache_clear(self, monkeypatch):
        """Test that cache_clear forces reload."""
        # Set environment variables
        monkeypatch.setenv("APP_ENVIRONMENT", "testing")
        monkeypatch.setenv("APP_DATABASE__HOST", "localhost")
        monkeypatch.setenv("APP_DATABASE__PORT", "5432")
        monkeypatch.setenv("APP_DATABASE__USER", "taskman")
        monkeypatch.setenv("APP_DATABASE__PASSWORD", "test_password")
        monkeypatch.setenv("APP_DATABASE__DATABASE", "taskman_test")
        monkeypatch.setenv("APP_SECRET_KEY", "test-secret-key-min-32-characters")
        monkeypatch.setenv("APP_JWT_SECRET", "test-jwt-secret-min-32-characters")
    
        # First call
>       settings1 = get_settings()
                    ^^^^^^^^^^^^^^

tests\unit\test_config.py:443: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
src\taskman_api\config.py:290: in get_settings
    return Settings()
           ^^^^^^^^^^
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

__pydantic_self__ = <[AttributeError("'Settings' object has no attribute 'environment'") raised in repr()] Settings object at 0x2abb39404b0>
_case_sensitive = None, _nested_model_default_partial_update = None, _env_prefix = None, _env_file = WindowsPath('.')
_env_file_encoding = None, _env_ignore_empty = None, _env_nested_delimiter = None, _env_nested_max_split = None
_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None, _cli_parse_args = None
_cli_settings_source = None, _cli_parse_none_str = None, _cli_hide_none_type = None, _cli_avoid_json = None
_cli_enforce_required = None, _cli_use_class_docs_for_groups = None, _cli_exit_on_error = None, _cli_prefix = None
_cli_flag_prefix_char = None, _cli_implicit_flags = None, _cli_ignore_unknown_args = None, _cli_kebab_case = None
_cli_shortcuts = None, _secrets_dir = None, values = {}

    def __init__(
        __pydantic_self__,
        _case_sensitive: bool | None = None,
        _nested_model_default_partial_update: bool | None = None,
        _env_prefix: str | None = None,
        _env_file: DotenvType | None = ENV_FILE_SENTINEL,
        _env_file_encoding: str | None = None,
        _env_ignore_empty: bool | None = None,
        _env_nested_delimiter: str | None = None,
        _env_nested_max_split: int | None = None,
        _env_parse_none_str: str | None = None,
        _env_parse_enums: bool | None = None,
        _cli_prog_name: str | None = None,
        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,
        _cli_settings_source: CliSettingsSource[Any] | None = None,
        _cli_parse_none_str: str | None = None,
        _cli_hide_none_type: bool | None = None,
        _cli_avoid_json: bool | None = None,
        _cli_enforce_required: bool | None = None,
        _cli_use_class_docs_for_groups: bool | None = None,
        _cli_exit_on_error: bool | None = None,
        _cli_prefix: str | None = None,
        _cli_flag_prefix_char: str | None = None,
        _cli_implicit_flags: bool | None = None,
        _cli_ignore_unknown_args: bool | None = None,
        _cli_kebab_case: bool | Literal['all', 'no_enums'] | None = None,
        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,
        _secrets_dir: PathType | None = None,
        **values: Any,
    ) -> None:
>       super().__init__(
            **__pydantic_self__._settings_build_values(
                values,
                _case_sensitive=_case_sensitive,
                _nested_model_default_partial_update=_nested_model_default_partial_update,
                _env_prefix=_env_prefix,
                _env_file=_env_file,
                _env_file_encoding=_env_file_encoding,
                _env_ignore_empty=_env_ignore_empty,
                _env_nested_delimiter=_env_nested_delimiter,
                _env_nested_max_split=_env_nested_max_split,
                _env_parse_none_str=_env_parse_none_str,
                _env_parse_enums=_env_parse_enums,
                _cli_prog_name=_cli_prog_name,
                _cli_parse_args=_cli_parse_args,
                _cli_settings_source=_cli_settings_source,
                _cli_parse_none_str=_cli_parse_none_str,
                _cli_hide_none_type=_cli_hide_none_type,
                _cli_avoid_json=_cli_avoid_json,
                _cli_enforce_required=_cli_enforce_required,
                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,
                _cli_exit_on_error=_cli_exit_on_error,
                _cli_prefix=_cli_prefix,
                _cli_flag_prefix_char=_cli_flag_prefix_char,
                _cli_implicit_flags=_cli_implicit_flags,
                _cli_ignore_unknown_args=_cli_ignore_unknown_args,
                _cli_kebab_case=_cli_kebab_case,
                _cli_shortcuts=_cli_shortcuts,
                _secrets_dir=_secrets_dir,
            )
        )
E       pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E       database_url
E         Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_host
E         Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       api_port
E         Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E       log_level
E         Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E           For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

.venv\Lib\site-packages\pydantic_settings\main.py:194: ValidationError

---------- coverage: platform win32, python 3.11.9-final-0 -----------
Name                                                     Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------
src\taskman_api\__init__.py                                  0      0      0      0 100.00%
src\taskman_api\auth.py                                     61     39      8      0  31.88%   41-44, 48, 52, 56, 85-99, 115-120, 156-179, 200-212, 232-246
src\taskman_api\config.py                                   62      2      6      0  97.06%   255, 261
src\taskman_api\core\__init__.py                             4      0      0      0 100.00%
src\taskman_api\core\enums.py                               71      0      0      0 100.00%
src\taskman_api\core\errors.py                              78     31     36      6  53.51%   48-57, 107, 136, 138, 139->141, 141->143, 144, 169-177, 199-205, 226-230, 253-259
src\taskman_api\core\result.py                              49      8      0      0  83.67%   40, 44, 58, 62, 74, 81, 88, 92
src\taskman_api\db\__init__.py                               3      0      0      0 100.00%
src\taskman_api\db\base.py                                   6      1      0      0  83.33%   32
src\taskman_api\db\connection_manager.py                    91     27     10      3  68.32%   66-68, 110-112, 121, 143-145, 158-164, 170-183
src\taskman_api\db\session.py                               27      8      4      0  61.29%   48-50, 63-64, 73-75, 85
src\taskman_api\dependencies.py                             45      8      0      0  82.22%   34-38, 48, 53, 58, 63
src\taskman_api\main.py                                    104     49     18      0  45.08%   55-78, 107-161, 234-249, 273, 296, 307, 320-322
src\taskman_api\middleware\__init__.py                       2      0      0      0 100.00%
src\taskman_api\middleware\logging_middleware.py            85     19     32     11  69.23%   77, 98, 102, 123, 127, 133, 168, 193->197, 211->222, 224-238, 249-255, 258->272, 261
src\taskman_api\models\__init__.py                           5      0      0      0 100.00%
src\taskman_api\models\action_list.py                       54      5      6      3  86.67%   35, 41, 47, 128, 133
src\taskman_api\models\project.py                           48      1      0      0  97.92%   100
src\taskman_api\models\sprint.py                            51      2      0      0  96.08%   48, 101
src\taskman_api\models\task.py                              56      0      0      0 100.00%
src\taskman_api\repositories\__init__.py                     6      0      0      0 100.00%
src\taskman_api\repositories\action_list_repository.py      43     10     10      3  67.92%   27-32, 59-64, 88-95, 99->101, 105->107, 111-112
src\taskman_api\repositories\base.py                        33      0      0      0 100.00%
src\taskman_api\repositories\project_repository.py          65     16     14      6  69.62%   59->61, 61->65, 109->111, 112, 113->115, 116, 124-133, 139-143, 149-153
src\taskman_api\repositories\sprint_repository.py           70     17     16      6  70.93%   66->68, 121->123, 124, 125->127, 128, 130, 138-147, 153-157, 163-167
src\taskman_api\repositories\task_repository.py            112     64     44      2  37.18%   28-31, 54-57, 85, 87, 144-182, 203-235, 239-242, 247-256, 262-268, 274-280, 286-290, 296-300
src\taskman_api\routers\__init__.py                          7      0      0      0 100.00%
src\taskman_api\routers\action_lists.py                    109     69     26      1  30.37%   94-104, 169-190, 260-275, 349->352, 354-363, 396-403, 444-455, 503-519, 564-580, 598-607, 625-634, 652-661
src\taskman_api\routers\agent.py                            30     15      6      0  41.67%   32-72
src\taskman_api\routers\diagnostic.py                       20     14      0      0  30.00%   16-40
src\taskman_api\routers\projects.py                         73     49     32      0  22.86%   36-64, 74-86, 96-103, 115-126, 136-143
src\taskman_api\routers\sprints.py                         108     77     52      0  19.38%   42-70, 80-94, 104-111, 121-128, 140-151, 161-168, 176-185, 193-202
src\taskman_api\routers\tasks.py                            94     56     42      0  30.88%   47-48, 57-58, 72-83, 93-105, 115-122, 133-144, 154-161, 170-183
src\taskman_api\schemas\__init__.py                          7      0      0      0 100.00%
src\taskman_api\schemas\action_list.py                      82      0      2      0 100.00%
src\taskman_api\schemas\base.py                             53      1      6      1  96.61%   28
src\taskman_api\schemas\enums.py                            62      0      0      0 100.00%
src\taskman_api\schemas\project.py                         163     12     26      6  90.48%   192-194, 213, 220-222, 231, 238-240, 252
src\taskman_api\schemas\sprint.py                          154     11     22      5  90.91%   155, 167, 174-176, 185, 192-193, 210-212
src\taskman_api\schemas\task.py                            193     27     28      7  81.00%   238, 241-247, 258, 261-267, 276, 279-285, 295-297
src\taskman_api\services\__init__.py                         6      0      0      0 100.00%
src\taskman_api\services\action_list_service.py            159     57     42     11  59.20%   67-68, 80-96, 105->112, 114, 117->116, 122-123, 148-149, 180-182, 199-208, 211-213, 224, 237-238, 244-252, 259, 263->272, 265-267, 273, 277-278, 287, 297, 298->300, 305-306, 310-316, 322, 328
src\taskman_api\services\base.py                           117     16     24      1  87.94%   76-78, 105-107, 182-183, 226->225, 237-238, 269-270, 299-300, 317-318, 329-330
src\taskman_api\services\project_service.py                 97     17     36     10  75.19%   68-85, 119->123, 129, 130->exit, 154-157, 202, 203->exit, 236, 237->exit, 299-300, 330-331
src\taskman_api\services\sprint_service.py                 141     40     48     15  63.49%   79-96, 114-120, 127, 129, 134-157, 184->186, 212, 213->217, 223, 224->exit, 265, 266->270, 276, 277->exit, 290, 291->exit, 379-380, 409-410, 431-440, 466, 467->exit
src\taskman_api\services\task_service.py                    91      6     28      3  90.76%   164->exit, 318->305, 386-387, 416-417, 450-451
-----------------------------------------------------------------------------------------------------
TOTAL                                                     2997    774    624    100  67.85%
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json

FAIL Required test coverage of 70.0% not reached. Total coverage: 67.85%
=============================================== short test summary info ===============================================
SKIPPED [1] tests\unit\services\test_services.py:472: Method mark_complete not implemented - ADR-001 backlog
SKIPPED [1] tests\unit\services\test_services.py:575: Method get_orphaned not implemented - ADR-001 backlog
SKIPPED [1] tests\unit\services\test_services.py:598: Method get_soft_deleted not implemented - ADR-001 backlog
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_provides_complete_settings - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_database - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_redis - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestMinimalSettingsFixture::test_fixture_provides_minimal_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_simulates_production - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_database - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_redis - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_settings_default_to_testing - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_valid_settings_development - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_valid_settings_production - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_development_allows_insecure_secrets - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_optional_redis_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_with_redis_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_environment_helpers - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestGetSettings::test_settings_cached - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestGetSettings::test_cache_clear - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
================================= 8 failed, 193 passed, 3 skipped, 8 errors in 10.50s =================================
