================================================= test session starts =================================================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api
configfile: pytest_full.ini
plugins: anyio-4.12.0, Faker-30.10.0, asyncio-0.26.0, cov-5.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 19 items

tests/unit/services/test_services.py::TestProjectService::test_get_metrics_success PASSED                        [  5%]
tests/unit/services/test_services.py::TestProjectService::test_add_sprint PASSED                                 [ 10%]
tests/unit/services/test_services.py::TestProjectService::test_remove_sprint PASSED                              [ 15%]
tests/unit/services/test_services.py::TestProjectService::test_change_status FAILED                              [ 21%]
tests/unit/services/test_services.py::TestProjectService::test_get_by_status FAILED                              [ 26%]
tests/unit/services/test_services.py::TestProjectService::test_get_by_owner FAILED                               [ 31%]
tests/unit/services/test_services.py::TestSprintService::test_calculate_velocity FAILED                          [ 36%]
tests/unit/services/test_services.py::TestSprintService::test_get_burndown FAILED                                [ 42%]
tests/unit/services/test_services.py::TestSprintService::test_change_status FAILED                               [ 47%]
tests/unit/services/test_services.py::TestSprintService::test_get_current_sprints FAILED                         [ 52%]
tests/unit/services/test_services.py::TestSprintService::test_get_by_project FAILED                              [ 57%]
tests/unit/services/test_services.py::TestSprintService::test_update_metrics FAILED                              [ 63%]
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_success FAILED                   [ 68%]
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_invalid_length FAILED            [ 73%]
tests/unit/services/test_services.py::TestActionListService::test_mark_complete FAILED                           [ 78%]
tests/unit/services/test_services.py::TestActionListService::test_add_item FAILED                                [ 84%]
tests/unit/services/test_services.py::TestActionListService::test_remove_item FAILED                             [ 89%]
tests/unit/services/test_services.py::TestActionListService::test_get_orphaned FAILED                            [ 94%]
tests/unit/services/test_services.py::TestActionListService::test_get_soft_deleted FAILED                        [100%]

=============================================== short test summary info ===============================================
FAILED tests/unit/services/test_services.py::TestProjectService::test_change_status - pydantic_core._pydantic_core.ValidationError: 1 validation error for ProjectUpdate
status
  Input should be 'planning', 'active', 'on_hold', 'completed' or 'archived' [type=enum, input_value=<ProjectStatus.PAUSED: 'paused'>, input_type=ProjectStatus]
    For further information visit https://errors.pydantic.dev/2.12/v/enum
FAILED tests/unit/services/test_services.py::TestProjectService::test_get_by_status - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_services.py::TestProjectService::test_get_by_owner - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_services.py::TestSprintService::test_calculate_velocity - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA5485D0>, Ok)
FAILED tests/unit/services/test_services.py::TestSprintService::test_get_burndown - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA62A550>, Ok)
FAILED tests/unit/services/test_services.py::TestSprintService::test_change_status - pydantic_core._pydantic_core.ValidationError: 1 validation error for SprintUpdate
status
  Input should be 'planning', 'active', 'completed' or 'cancelled' [type=enum, input_value=<SprintStatus.CLOSED: 'closed'>, input_type=SprintStatus]
    For further information visit https://errors.pydantic.dev/2.12/v/enum
FAILED tests/unit/services/test_services.py::TestSprintService::test_get_current_sprints - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_services.py::TestSprintService::test_get_by_project - TypeError: object Mock can't be used in 'await' expression
FAILED tests/unit/services/test_services.py::TestSprintService::test_update_metrics - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA6AA150>, Ok)
FAILED tests/unit/services/test_services.py::TestActionListService::test_reorder_items_success - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA54CE50>, Ok)
FAILED tests/unit/services/test_services.py::TestActionListService::test_reorder_items_invalid_length - assert False
 +  where False = isinstance(AppError("'list' object has no attribute 'item_ids'"), ValidationError)
FAILED tests/unit/services/test_services.py::TestActionListService::test_mark_complete - AttributeError: 'ActionListService' object has no attribute 'mark_complete'
FAILED tests/unit/services/test_services.py::TestActionListService::test_add_item - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA702750>, Ok)
FAILED tests/unit/services/test_services.py::TestActionListService::test_remove_item - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000015DAA727610>, Ok)
FAILED tests/unit/services/test_services.py::TestActionListService::test_get_orphaned - AttributeError: 'ActionListService' object has no attribute 'get_orphaned'
FAILED tests/unit/services/test_services.py::TestActionListService::test_get_soft_deleted - AttributeError: 'ActionListService' object has no attribute 'get_soft_deleted'
============================================ 16 failed, 3 passed in 0.38s =============================================
