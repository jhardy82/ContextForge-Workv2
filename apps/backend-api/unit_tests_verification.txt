================================================= test session starts =================================================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api
configfile: pyproject.toml
plugins: anyio-4.12.0, Faker-30.10.0, asyncio-0.26.0, cov-5.0.0, mock-3.15.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=function, asyncio_default_test_loop_scope=function
collecting ... collected 184 items

tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_create_success PASSED               [  0%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_create_conflict PASSED              [  1%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_by_id_success PASSED           [  1%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_by_id_not_found PASSED         [  2%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_find_all_success PASSED             [  2%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_update_success PASSED               [  3%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_update_not_found PASSED             [  3%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_delete_success PASSED               [  4%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_exists_true PASSED                  [  4%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_exists_false PASSED                 [  5%]
tests/unit/db/repositories/test_base_repository.py::TestBaseRepository::test_count PASSED                        [  5%]
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_exists PASSED        [  6%]
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_get_by_owner PASSED  [  7%]
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_search_filters_and_pagination PASSED [  7%]
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_create_project_method PASSED [  8%]
tests/unit/db/repositories/test_project_repository.py::TestProjectRepositoryEdgeCases::test_update_project_method PASSED [  8%]
tests/unit/db/repositories/test_repositories.py::TestProjectRepository::test_get_by_status PASSED                [  9%]
tests/unit/db/repositories/test_repositories.py::TestProjectRepository::test_get_active_projects PASSED          [  9%]
tests/unit/db/repositories/test_repositories.py::TestSprintRepository::test_get_by_status PASSED                 [ 10%]
tests/unit/db/repositories/test_repositories.py::TestSprintRepository::test_get_active_sprints PASSED            [ 10%]
tests/unit/db/repositories/test_repositories.py::TestActionListRepository::test_get_active PASSED                [ 11%]
tests/unit/db/repositories/test_repositories.py::TestActionListRepository::test_search_action_lists PASSED       [ 11%]
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_exists PASSED          [ 12%]
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_get_by_project PASSED  [ 13%]
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_get_active_sprints PASSED [ 13%]
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_search_sprints PASSED  [ 14%]
tests/unit/db/repositories/test_sprint_repository.py::TestSprintRepositoryEdgeCases::test_create_and_update_sprint_helpers PASSED [ 14%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_status PASSED               [ 15%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_priority PASSED             [ 15%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_owner PASSED                [ 16%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_project PASSED              [ 16%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_project_with_status_filter PASSED [ 17%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_sprint PASSED               [ 17%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_by_status_and_priority PASSED  [ 18%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_blocked_tasks PASSED           [ 19%]
tests/unit/db/repositories/test_task_repository.py::TestTaskRepository::test_find_high_priority_tasks PASSED     [ 19%]
tests/unit/db/test_connection_manager.py::test_init_creates_engines PASSED                                       [ 20%]
tests/unit/db/test_connection_manager.py::test_get_session_primary_success PASSED                                [ 20%]
tests/unit/db/test_connection_manager.py::test_get_session_failover PASSED                                       [ 21%]
tests/unit/db/test_connection_manager.py::test_health_check_reporting FAILED                                     [ 21%]
tests/unit/db/test_connection_manager.py::test_health_check_primary_down PASSED                                  [ 22%]
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_create_request_valid FAILED                 [ 22%]
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_id_pattern_validation PASSED                [ 23%]
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_update_request_partial PASSED               [ 23%]
tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_response_serialization PASSED               [ 24%]
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_create_request_valid FAILED                   [ 25%]
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_id_pattern_validation PASSED                  [ 25%]
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_velocity_points_non_negative PASSED           [ 26%]
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_update_request_partial PASSED                 [ 26%]
tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_response_with_metrics PASSED                  [ 27%]
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_create_request_valid PASSED          [ 27%]
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_with_associations PASSED             [ 28%]
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_soft_delete_fields FAILED            [ 28%]
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_update_request_partial PASSED        [ 29%]
tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_response_with_metadata PASSED        [ 29%]
tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_strict_type_validation FAILED              [ 30%]
tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_from_attributes_orm_mode FAILED            [ 30%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_valid_task_create_request PASSED            [ 31%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_task_id_pattern_validation_success PASSED   [ 32%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_task_id_pattern_validation_failure FAILED   [ 32%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_required_fields_validation FAILED           [ 33%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_title_max_length_validation PASSED          [ 33%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_estimate_points_non_negative PASSED         [ 34%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_business_value_score_range FAILED           [ 34%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_enum_field_validation FAILED                [ 35%]
tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_default_values PASSED                       [ 35%]
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_partial_update_all_fields_optional PASSED   [ 36%]
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_update_with_multiple_fields PASSED          [ 36%]
tests/unit/schemas/test_task_schemas.py::TestTaskUpdateRequest::test_update_validation_rules_still_apply PASSED  [ 37%]
tests/unit/schemas/test_task_schemas.py::TestTaskResponse::test_response_from_orm_model PASSED                   [ 38%]
tests/unit/schemas/test_task_schemas.py::TestTaskResponse::test_response_serialization PASSED                    [ 38%]
tests/unit/services/test_base_service.py::TestBaseServiceCreate::test_create_success PASSED                      [ 39%]
tests/unit/services/test_base_service.py::TestBaseServiceCreate::test_create_conflict_error PASSED               [ 39%]
tests/unit/services/test_base_service.py::TestBaseServiceGet::test_get_success PASSED                            [ 40%]
tests/unit/services/test_base_service.py::TestBaseServiceGet::test_get_not_found PASSED                          [ 40%]
tests/unit/services/test_base_service.py::TestBaseServiceUpdate::test_update_success PASSED                      [ 41%]
tests/unit/services/test_base_service.py::TestBaseServiceUpdate::test_update_not_found PASSED                    [ 41%]
tests/unit/services/test_base_service.py::TestBaseServiceDelete::test_delete_success PASSED                      [ 42%]
tests/unit/services/test_base_service.py::TestBaseServiceDelete::test_delete_not_found PASSED                    [ 42%]
tests/unit/services/test_base_service.py::TestBaseServiceList::test_list_success PASSED                          [ 43%]
tests/unit/services/test_base_service.py::TestBaseServiceList::test_list_empty_result PASSED                     [ 44%]
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_exists_true PASSED                        [ 44%]
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_exists_false PASSED                       [ 45%]
tests/unit/services/test_base_service.py::TestBaseServiceUtility::test_count_success PASSED                      [ 45%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_minimum_fields FAILED [ 46%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_all_fields FAILED [ 46%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_update_project_partial_single_field PASSED [ 47%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_update_project_empty_mission PASSED [ 47%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceStatusTransitions::test_change_status_success PASSED [ 48%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceStatusTransitions::test_change_status_project_not_found FAILED [ 48%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_sprint_to_project FAILED [ 49%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_duplicate_sprint_idempotent FAILED [ 50%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_remove_sprint_from_project PASSED [ 50%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceMetrics::test_get_metrics_no_tasks PASSED [ 51%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceMetrics::test_get_metrics_project_not_found FAILED [ 51%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSearchAndFiltering::test_get_by_status_no_results PASSED [ 52%]
tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSearchAndFiltering::test_get_by_owner_no_results PASSED [ 52%]
tests/unit/services/test_services.py::TestProjectService::test_get_metrics_success PASSED                        [ 53%]
tests/unit/services/test_services.py::TestProjectService::test_add_sprint PASSED                                 [ 53%]
tests/unit/services/test_services.py::TestProjectService::test_remove_sprint PASSED                              [ 54%]
tests/unit/services/test_services.py::TestProjectService::test_change_status PASSED                              [ 54%]
tests/unit/services/test_services.py::TestProjectService::test_get_by_status PASSED                              [ 55%]
tests/unit/services/test_services.py::TestProjectService::test_get_by_owner PASSED                               [ 55%]
tests/unit/services/test_services.py::TestSprintService::test_calculate_velocity PASSED                          [ 56%]
tests/unit/services/test_services.py::TestSprintService::test_get_burndown PASSED                                [ 57%]
tests/unit/services/test_services.py::TestSprintService::test_change_status PASSED                               [ 57%]
tests/unit/services/test_services.py::TestSprintService::test_get_current_sprints PASSED                         [ 58%]
tests/unit/services/test_services.py::TestSprintService::test_get_by_project PASSED                              [ 58%]
tests/unit/services/test_services.py::TestSprintService::test_update_metrics PASSED                              [ 59%]
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_success PASSED                   [ 59%]
tests/unit/services/test_services.py::TestActionListService::test_reorder_items_invalid_length PASSED            [ 60%]
tests/unit/services/test_services.py::TestActionListService::test_mark_complete SKIPPED (Method mark_complet...) [ 60%]
tests/unit/services/test_services.py::TestActionListService::test_add_item PASSED                                [ 61%]
tests/unit/services/test_services.py::TestActionListService::test_remove_item PASSED                             [ 61%]
tests/unit/services/test_services.py::TestActionListService::test_get_orphaned SKIPPED (Method get_orphaned ...) [ 62%]
tests/unit/services/test_services.py::TestActionListService::test_get_soft_deleted SKIPPED (Method get_soft_...) [ 63%]
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_calculate_velocity_mixed_tasks FAILED [ 63%]
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_get_burndown_calculations FAILED [ 64%]
tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceSerialization::test_deserialize_maps_primary_project PASSED [ 64%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_valid_transition PASSED [ 65%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_invalid_transition PASSED [ 65%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusTransitions::test_change_status_not_found PASSED  [ 66%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_new_to_ready PASSED [ 66%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_ready_to_in_progress PASSED [ 67%]
tests/unit/services/test_task_service.py::TestTaskServiceStatusValidation::test_is_valid_transition_done_to_any_is_invalid PASSED [ 67%]
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_sprint PASSED                [ 68%]
tests/unit/services/test_task_service.py::TestTaskServiceAssignment::test_assign_to_project PASSED               [ 69%]
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_success PASSED         [ 69%]
tests/unit/services/test_task_service.py::TestTaskServiceBulkOperations::test_bulk_update_fails_fast PASSED      [ 70%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status PASSED                    [ 70%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_search_by_status_and_priority PASSED       [ 71%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_high_priority_tasks PASSED             [ 71%]
tests/unit/services/test_task_service.py::TestTaskServiceSearch::test_get_blocked_tasks PASSED                   [ 72%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_new_to_ready PASSED [ 72%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_blocked PASSED [ 73%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_valid_transition_in_progress_to_done PASSED [ 73%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_new PASSED [ 74%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_done_to_in_progress PASSED [ 75%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_dropped_to_ready PASSED [ 75%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_new_to_done PASSED [ 76%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceStatusTransitionEdgeCases::test_invalid_transition_ready_to_blocked PASSED [ 76%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_partial_failure_fails_fast PASSED [ 77%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceBulkOperationEdgeCases::test_bulk_update_empty_list PASSED [ 77%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_sprint PASSED [ 78%]
tests/unit/services/test_task_service_edge_cases.py::TestTaskServiceAssignmentEdgeCases::test_assign_to_nonexistent_project PASSED [ 78%]
tests/unit/test_config.py::TestDatabaseConfig::test_valid_database_config PASSED                                 [ 79%]
tests/unit/test_config.py::TestDatabaseConfig::test_connection_string_generation PASSED                          [ 79%]
tests/unit/test_config.py::TestDatabaseConfig::test_async_connection_string_generation PASSED                    [ 80%]
tests/unit/test_config.py::TestDatabaseConfig::test_invalid_port_too_low PASSED                                  [ 80%]
tests/unit/test_config.py::TestDatabaseConfig::test_invalid_port_too_high PASSED                                 [ 81%]
tests/unit/test_config.py::TestDatabaseConfig::test_empty_user_rejected PASSED                                   [ 82%]
tests/unit/test_config.py::TestDatabaseConfig::test_default_values PASSED                                        [ 82%]
tests/unit/test_config.py::TestRedisConfig::test_valid_redis_config PASSED                                       [ 83%]
tests/unit/test_config.py::TestRedisConfig::test_default_values PASSED                                           [ 83%]
tests/unit/test_config.py::TestRedisConfig::test_invalid_url_pattern PASSED                                      [ 84%]
tests/unit/test_config.py::TestRedisConfig::test_timeout_validation PASSED                                       [ 84%]
tests/unit/test_config.py::TestRedisConfig::test_db_number_validation PASSED                                     [ 85%]
tests/unit/test_config.py::TestSettings::test_valid_settings_development FAILED                                  [ 85%]
tests/unit/test_config.py::TestSettings::test_valid_settings_production FAILED                                   [ 86%]
tests/unit/test_config.py::TestSettings::test_production_rejects_insecure_secret_key PASSED                      [ 86%]
tests/unit/test_config.py::TestSettings::test_production_rejects_insecure_jwt_secret PASSED                      [ 87%]
tests/unit/test_config.py::TestSettings::test_development_allows_insecure_secrets FAILED                         [ 88%]
tests/unit/test_config.py::TestSettings::test_secret_key_min_length_32 PASSED                                    [ 88%]
tests/unit/test_config.py::TestSettings::test_optional_redis_config FAILED                                       [ 89%]
tests/unit/test_config.py::TestSettings::test_with_redis_config FAILED                                           [ 89%]
tests/unit/test_config.py::TestSettings::test_invalid_environment PASSED                                         [ 90%]
tests/unit/test_config.py::TestSettings::test_extra_fields_rejected PASSED                                       [ 90%]
tests/unit/test_config.py::TestSettings::test_environment_helpers FAILED                                         [ 91%]
tests/unit/test_config.py::TestGetSettings::test_settings_cached FAILED                                          [ 91%]
tests/unit/test_config.py::TestGetSettings::test_cache_clear FAILED                                              [ 92%]
tests/unit/test_fixtures.py::TestDatabaseConfigFixture::test_fixture_provides_isolated_config PASSED             [ 92%]
tests/unit/test_fixtures.py::TestDatabaseConfigFixture::test_fixture_connection_string PASSED                    [ 93%]
tests/unit/test_fixtures.py::TestRedisConfigFixture::test_fixture_provides_isolated_config PASSED                [ 94%]
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_provides_complete_settings ERROR                  [ 94%]
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_database ERROR                           [ 95%]
tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_redis ERROR                              [ 95%]
tests/unit/test_fixtures.py::TestMinimalSettingsFixture::test_fixture_provides_minimal_config ERROR              [ 96%]
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_simulates_production ERROR                  [ 96%]
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_database ERROR               [ 97%]
tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_redis ERROR                  [ 97%]
tests/unit/test_fixtures.py::TestCacheClearFixture::test_cache_cleared_between_tests_1 PASSED                    [ 98%]
tests/unit/test_fixtures.py::TestCacheClearFixture::test_cache_cleared_between_tests_2 PASSED                    [ 98%]
tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_environment_set_to_testing PASSED                    [ 99%]
tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_settings_default_to_testing ERROR                    [100%]

======================================================= ERRORS ========================================================
____________________ ERROR at setup of TestSettingsFixture.test_fixture_provides_complete_settings ____________________
tests\conftest.py:103: in test_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________________ ERROR at setup of TestSettingsFixture.test_fixture_includes_database _________________________
tests\conftest.py:103: in test_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________________ ERROR at setup of TestSettingsFixture.test_fixture_includes_redis __________________________
tests\conftest.py:103: in test_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ ERROR at setup of TestMinimalSettingsFixture.test_fixture_provides_minimal_config __________________
tests\conftest.py:126: in minimal_test_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____________________ ERROR at setup of TestProductionLikeFixture.test_fixture_simulates_production ____________________
tests\conftest.py:154: in production_like_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________ ERROR at setup of TestProductionLikeFixture.test_fixture_has_production_database ___________________
tests\conftest.py:154: in production_like_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
____________________ ERROR at setup of TestProductionLikeFixture.test_fixture_has_production_redis ____________________
tests\conftest.py:154: in production_like_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____________________ ERROR at setup of TestEnvironmentIsolation.test_settings_default_to_testing _____________________
tests\conftest.py:103: in test_settings
    return Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
====================================================== FAILURES =======================================================
_____________________________________________ test_health_check_reporting _____________________________________________
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 344, in from_call
  |     result: TResult | None = func()
  |                              ^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\runner.py", line 246, in <lambda>
  |     lambda: runtest_hook(item=item, **kwds), when=when, reraise=reraise
  |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_hooks.py", line 512, in __call__
  |     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_manager.py", line 120, in _hookexec
  |     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 167, in _multicall
  |     raise exception
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\logging.py", line 850, in pytest_runtest_call
  |     yield
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 53, in run_old_style_hookwrapper
  |     return result.get_result()
  |            ^^^^^^^^^^^^^^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_result.py", line 103, in get_result
  |     raise exc.with_traceback(tb)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 38, in run_old_style_hookwrapper
  |     res = yield
  |           ^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\capture.py", line 900, in pytest_runtest_call
  |     return (yield)
  |             ^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 139, in _multicall
  |     teardown.throw(exception)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\skipping.py", line 263, in pytest_runtest_call
  |     return (yield)
  |             ^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\pluggy\_callers.py", line 121, in _multicall
  |     res = hook_impl.function(*args)
  |           ^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\unraisableexception.py", line 158, in pytest_runtest_call
  |     collect_unraisable(item.config)
  |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\unraisableexception.py", line 81, in collect_unraisable
  |     raise ExceptionGroup("multiple unraisable exception warnings", errors)
  | ExceptionGroup: multiple unraisable exception warnings (3 sub-exceptions)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\warnings.py", line 538, in _warn_unawaited_coroutine
    |     warn(msg, category=RuntimeWarning, stacklevel=2, source=coro)
    | RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <coroutine object AsyncMockMixin._execute_mock_call at 0x00000193913A2140>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +---------------- 2 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\warnings.py", line 538, in _warn_unawaited_coroutine
    |     warn(msg, category=RuntimeWarning, stacklevel=2, source=coro)
    | RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <coroutine object AsyncMockMixin._execute_mock_call at 0x00000193913A1740>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +---------------- 3 ----------------
    | Traceback (most recent call last):
    |   File "C:\Users\James\AppData\Local\Programs\Python\Python311\Lib\warnings.py", line 538, in _warn_unawaited_coroutine
    |     warn(msg, category=RuntimeWarning, stacklevel=2, source=coro)
    | RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    | 
    | The above exception was the direct cause of the following exception:
    | 
    | Traceback (most recent call last):
    |   File "C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\.venv\Lib\site-packages\_pytest\unraisableexception.py", line 67, in collect_unraisable
    |     warnings.warn(pytest.PytestUnraisableExceptionWarning(msg))
    | pytest.PytestUnraisableExceptionWarning: Exception ignored in: <coroutine object AsyncMockMixin._execute_mock_call at 0x00000193913A1040>
    | Enable tracemalloc to get traceback where the object was allocated.
    | See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.
    +------------------------------------
________________________________ TestProjectSchemas.test_project_create_request_valid _________________________________
tests\unit\schemas\test_schemas.py:36: in test_project_create_request_valid
    assert request.status == ProjectStatus.DISCOVERY  # Default
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert <ProjectStatu...G: 'planning'> == <ProjectStatu...: 'discovery'>
E     
E     - discovery
E     + planning
_________________________________ TestSprintSchemas.test_sprint_create_request_valid __________________________________
tests\unit\schemas\test_schemas.py:134: in test_sprint_create_request_valid
    assert request.status == SprintStatus.PLANNED  # Default
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert <SprintStatus...G: 'planning'> == <SprintStatus...ED: 'planned'>
E     
E     - planned
E     + planning
______________________________ TestActionListSchemas.test_action_list_soft_delete_fields ______________________________
tests\unit\schemas\test_schemas.py:284: in test_action_list_soft_delete_fields
    request = ActionListCreateRequest(**data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for ActionListCreate
E   status
E     Input should be 'active' or 'archived' [type=enum, input_value='deleted', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/enum
_______________________________ TestBaseSchemaConfiguration.test_strict_type_validation _______________________________
tests\unit\schemas\test_schemas.py:336: in test_strict_type_validation
    from taskman_api.schemas.base import BaseSchema
E   ImportError: cannot import name 'BaseSchema' from 'taskman_api.schemas.base' (C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\schemas\base.py)
______________________________ TestBaseSchemaConfiguration.test_from_attributes_orm_mode ______________________________
tests\unit\schemas\test_schemas.py:348: in test_from_attributes_orm_mode
    from taskman_api.schemas.base import BaseSchema
E   ImportError: cannot import name 'BaseSchema' from 'taskman_api.schemas.base' (C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\schemas\base.py)
____________________________ TestTaskCreateRequest.test_task_id_pattern_validation_failure ____________________________
tests\unit\schemas\test_task_schemas.py:104: in test_task_id_pattern_validation_failure
    assert any("at least 1 character" in str(err).lower() for err in errors)
E   assert False
E    +  where False = any(<generator object TestTaskCreateRequest.test_task_id_pattern_validation_failure.<locals>.<genexpr> at 0x000001938EE597E0>)
________________________________ TestTaskCreateRequest.test_required_fields_validation ________________________________
tests\unit\schemas\test_task_schemas.py:120: in test_required_fields_validation
    assert required_fields.issubset(error_fields)
E   AssertionError: assert False
E    +  where False = <built-in method issubset of set object at 0x000001939169EEA0>({'description', 'owner', 'primary_project', 'primary_sprint', 'summary', 'title'})
E    +    where <built-in method issubset of set object at 0x000001939169EEA0> = {'description', 'owner', 'primary_project', 'primary_sprint', 'priority', 'summary', ...}.issubset
________________________________ TestTaskCreateRequest.test_business_value_score_range ________________________________
tests\unit\schemas\test_task_schemas.py:182: in test_business_value_score_range
    with pytest.raises(ValidationError):
E   Failed: DID NOT RAISE <class 'pydantic_core._pydantic_core.ValidationError'>
__________________________________ TestTaskCreateRequest.test_enum_field_validation ___________________________________
tests\unit\schemas\test_task_schemas.py:206: in test_enum_field_validation
    request = TaskCreateRequest(**data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for TaskCreate
E   severity
E     Input should be 'critical', 'high', 'medium' or 'low' [type=enum, input_value=<Severity.SEV2: 'sev2'>, input_type=Severity]
E       For further information visit https://errors.pydantic.dev/2.12/v/enum
____________________ TestProjectServiceBoundaryConditions.test_create_project_with_minimum_fields _____________________
tests\unit\services\test_project_service_edge_cases.py:56: in test_create_project_with_minimum_fields
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391A0CBD0>, Ok)
______________________ TestProjectServiceBoundaryConditions.test_create_project_with_all_fields _______________________
tests\unit\services\test_project_service_edge_cases.py:101: in test_create_project_with_all_fields
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391C0C8D0>, Ok)
______________________ TestProjectServiceStatusTransitions.test_change_status_project_not_found _______________________
tests\unit\services\test_project_service_edge_cases.py:239: in test_change_status_project_not_found
    assert isinstance(result, Err)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Ok object at 0x0000019391C876D0>, Err)
____________________________ TestProjectServiceSprintManagement.test_add_sprint_to_project ____________________________
tests\unit\services\test_project_service_edge_cases.py:280: in test_add_sprint_to_project
    assert isinstance(result, Ok)
E   assert False
E    +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391CACF10>, Ok)
_______________________ TestProjectServiceSprintManagement.test_add_duplicate_sprint_idempotent _______________________
tests\unit\services\test_project_service_edge_cases.py:312: in test_add_duplicate_sprint_idempotent
    assert project.sprints.count("S-2025-01") == 1  # No duplicates
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 0 == 1
E    +  where 0 = <built-in method count of list object at 0x0000019391C876C0>('S-2025-01')
E    +    where <built-in method count of list object at 0x0000019391C876C0> = [].count
E    +      where [] = ProjectResponse(created_at=datetime.datetime(2025, 1, 1, 12, 0), updated_at=datetime.datetime(2025, 1, 1, 12, 0), id='P-TEST-001', name='Test Project', mission='Test project mission', status=<ProjectStatus.ACTIVE: 'active'>, start_date=datetime.date(2025, 1, 1), target_end_date=None, owner='project.owner', sponsors=[], stakeholders=[], repositories=[], comms_channels=[], okrs=[], kpis=[], roadmap=[], risks=[], assumptions=[], constraints=[], dependencies_external=[], sprints=[], related_projects=[], shared_components=[], security_posture=None, compliance_requirements=[], governance={}, success_metrics=[], mpv_policy={}, tnve_mandate=False, evidence_root=None, observability={}).sprints
____________________________ TestProjectServiceMetrics.test_get_metrics_project_not_found _____________________________
tests\unit\services\test_project_service_edge_cases.py:418: in test_get_metrics_project_not_found
    result = await service.get_metrics("P-NONEXISTENT")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src\taskman_api\services\project_service.py:123: in get_metrics
    tasks_result = await self.task_repo.find_by_project(
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'TaskRepository' object has no attribute 'find_by_project'
____________________________ TestSprintServiceMetrics.test_calculate_velocity_mixed_tasks _____________________________
tests\unit\services\test_sprint_service_edge_cases.py:40: in test_calculate_velocity_mixed_tasks
    task_done_1 = sample_task.model_copy()
                  ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Task' object has no attribute 'model_copy'
_______________________________ TestSprintServiceMetrics.test_get_burndown_calculations _______________________________
tests\unit\services\test_sprint_service_edge_cases.py:93: in test_get_burndown_calculations
    t1 = sample_task.model_copy(update={"estimate_points": 10.0})
         ^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Task' object has no attribute 'model_copy'
____________________________________ TestSettings.test_valid_settings_development _____________________________________
tests\unit\test_config.py:176: in test_valid_settings_development
    settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_____________________________________ TestSettings.test_valid_settings_production _____________________________________
tests\unit\test_config.py:198: in test_valid_settings_production
    settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________________________ TestSettings.test_development_allows_insecure_secrets ________________________________
tests\unit\test_config.py:249: in test_development_allows_insecure_secrets
    settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_______________________________________ TestSettings.test_optional_redis_config _______________________________________
tests\unit\test_config.py:283: in test_optional_redis_config
    settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
_________________________________________ TestSettings.test_with_redis_config _________________________________________
tests\unit\test_config.py:301: in test_with_redis_config
    settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________________________________ TestSettings.test_environment_helpers ________________________________________
tests\unit\test_config.py:348: in test_environment_helpers
    dev_settings = Settings(
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
________________________________________ TestGetSettings.test_settings_cached _________________________________________
tests\unit\test_config.py:422: in test_settings_cached
    settings1 = get_settings()
                ^^^^^^^^^^^^^^
src\taskman_api\config.py:290: in get_settings
    return Settings()
           ^^^^^^^^^^
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
__________________________________________ TestGetSettings.test_cache_clear ___________________________________________
tests\unit\test_config.py:443: in test_cache_clear
    settings1 = get_settings()
                ^^^^^^^^^^^^^^
src\taskman_api\config.py:290: in get_settings
    return Settings()
           ^^^^^^^^^^
.venv\Lib\site-packages\pydantic_settings\main.py:194: in __init__
    super().__init__(
E   pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
E   database_url
E     Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_host
E     Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   api_port
E     Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
E   log_level
E     Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
E       For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden

---------- coverage: platform win32, python 3.11.9-final-0 -----------
Name                                                     Stmts   Miss Branch BrPart   Cover   Missing
-----------------------------------------------------------------------------------------------------
src\taskman_api\auth.py                                     61     61      8      0   0.00%   7-246
src\taskman_api\config.py                                   62      3      6      0  95.59%   249, 255, 261
src\taskman_api\core\errors.py                              78     31     36      8  51.75%   48-57, 73->75, 75->78, 107, 136, 138, 139->141, 141->143, 144, 169-177, 199-205, 226-230, 253-259
src\taskman_api\core\result.py                              37     10      0      0  72.97%   37, 40, 43, 50, 54, 66, 69, 72, 76, 79
src\taskman_api\db\base.py                                   6      1      0      0  83.33%   32
src\taskman_api\db\connection_manager.py                    91     27     10      3  68.32%   66-68, 110-112, 121, 143-145, 158-164, 170-183
src\taskman_api\db\session.py                               27      8      4      0  61.29%   48-50, 63-64, 73-75, 85
src\taskman_api\dependencies.py                             45     45      0      0   0.00%   7-100
src\taskman_api\main.py                                    104    104     18      0   0.00%   6-341
src\taskman_api\middleware\__init__.py                       2      2      0      0   0.00%   7-9
src\taskman_api\middleware\logging_middleware.py            85     85     32      0   0.00%   19-272
src\taskman_api\models\action_list.py                       54      5      6      3  86.67%   35, 41, 47, 128, 133
src\taskman_api\models\project.py                           45      1      0      0  97.78%   91
src\taskman_api\models\sprint.py                            51      2      0      0  96.08%   48, 101
src\taskman_api\repositories\action_list_repository.py      43     16     10      1  52.83%   27-32, 59-64, 88-95, 99-101, 105-107, 111-112
src\taskman_api\repositories\project_repository.py          46      2     12      6  86.21%   57->59, 59->63, 107->109, 110, 111->113, 114
src\taskman_api\repositories\sprint_repository.py           51      3     14      6  86.15%   64->66, 119->121, 122, 123->125, 126, 128
src\taskman_api\repositories\task_repository.py             81     40     42      2  41.46%   26-29, 52-55, 83, 85, 142-180, 201-233, 237-240
src\taskman_api\routers\__init__.py                          7      7      0      0   0.00%   6-13
src\taskman_api\routers\action_lists.py                     84     84     20      0   0.00%   7-578
src\taskman_api\routers\agent.py                            30     30      6      0   0.00%   1-72
src\taskman_api\routers\diagnostic.py                       20     20      0      0   0.00%   5-40
src\taskman_api\routers\projects.py                         73     73     32      0   0.00%   7-143
src\taskman_api\routers\sprints.py                         108    108     52      0   0.00%   7-202
src\taskman_api\routers\tasks.py                            94     94     42      0   0.00%   7-183
src\taskman_api\schemas\action_list.py                      82      1      2      1  97.62%   243
src\taskman_api\schemas\base.py                             53      1      6      1  96.61%   28
src\taskman_api\schemas\project.py                         163     15     26      7  87.30%   185, 192-194, 213, 220-222, 231, 238-240, 250-252
src\taskman_api\schemas\sprint.py                          154     12     22      6  89.77%   148, 155, 167, 174-176, 185, 192-193, 210-212
src\taskman_api\schemas\task.py                            193     29     28      9  79.19%   218, 226, 238, 241-247, 258, 261-267, 276, 279-285, 295-297
src\taskman_api\services\action_list_service.py            112     56     32      8  47.22%   28-29, 51-65, 71-92, 96-118, 129, 142-143, 149-157, 164, 168->177, 170-172, 178, 182-183, 192, 202, 203->205, 210-211
src\taskman_api\services\base.py                           110     14     24      1  88.81%   73-75, 102-104, 171-172, 212->211, 252-253, 279-280, 297-298, 309-310
src\taskman_api\services\project_service.py                 97     21     36     12  70.68%   68-85, 118, 119->123, 129, 130->exit, 154-157, 202, 203->exit, 236, 237->exit, 241-243, 299-300, 330-331
src\taskman_api\services\sprint_service.py                 141     50     48     16  56.61%   79-96, 113-157, 169-173, 178, 184->186, 212, 213->217, 223, 224->exit, 265, 266->270, 276, 277->exit, 290, 291->exit, 379-380, 409-410, 431-440, 466, 467->exit
src\taskman_api\services\task_service.py                    91     13     28      3  81.51%   64-85, 164->exit, 318->305, 386-387, 416-417, 450-451
-----------------------------------------------------------------------------------------------------
TOTAL                                                     2834   1074    602     93  56.72%

11 files skipped due to complete coverage.
Coverage HTML written to dir htmlcov
Coverage JSON written to file coverage.json

FAIL Required test coverage of 70.0% not reached. Total coverage: 56.72%
=============================================== short test summary info ===============================================
SKIPPED [1] tests\unit\services\test_services.py:472: Method mark_complete not implemented - ADR-001 backlog
SKIPPED [1] tests\unit\services\test_services.py:575: Method get_orphaned not implemented - ADR-001 backlog
SKIPPED [1] tests\unit\services\test_services.py:598: Method get_soft_deleted not implemented - ADR-001 backlog
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_provides_complete_settings - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_database - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestSettingsFixture::test_fixture_includes_redis - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestMinimalSettingsFixture::test_fixture_provides_minimal_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_simulates_production - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_database - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestProductionLikeFixture::test_fixture_has_production_redis - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
ERROR tests/unit/test_fixtures.py::TestEnvironmentIsolation::test_settings_default_to_testing - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/db/test_connection_manager.py::test_health_check_reporting - ExceptionGroup: multiple unraisable exception warnings (3 sub-exceptions)
FAILED tests/unit/schemas/test_schemas.py::TestProjectSchemas::test_project_create_request_valid - AssertionError: assert <ProjectStatu...G: 'planning'> == <ProjectStatu...: 'discovery'>
  
  - discovery
  + planning
FAILED tests/unit/schemas/test_schemas.py::TestSprintSchemas::test_sprint_create_request_valid - AssertionError: assert <SprintStatus...G: 'planning'> == <SprintStatus...ED: 'planned'>
  
  - planned
  + planning
FAILED tests/unit/schemas/test_schemas.py::TestActionListSchemas::test_action_list_soft_delete_fields - pydantic_core._pydantic_core.ValidationError: 1 validation error for ActionListCreate
status
  Input should be 'active' or 'archived' [type=enum, input_value='deleted', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/enum
FAILED tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_strict_type_validation - ImportError: cannot import name 'BaseSchema' from 'taskman_api.schemas.base' (C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\schemas\base.py)
FAILED tests/unit/schemas/test_schemas.py::TestBaseSchemaConfiguration::test_from_attributes_orm_mode - ImportError: cannot import name 'BaseSchema' from 'taskman_api.schemas.base' (C:\Users\James\Documents\Github\GHrepos\SCCMScripts\TaskMan-v2\backend-api\src\taskman_api\schemas\base.py)
FAILED tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_task_id_pattern_validation_failure - assert False
 +  where False = any(<generator object TestTaskCreateRequest.test_task_id_pattern_validation_failure.<locals>.<genexpr> at 0x000001938EE597E0>)
FAILED tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_required_fields_validation - AssertionError: assert False
 +  where False = <built-in method issubset of set object at 0x000001939169EEA0>({'description', 'owner', 'primary_project', 'primary_sprint', 'summary', 'title'})
 +    where <built-in method issubset of set object at 0x000001939169EEA0> = {'description', 'owner', 'primary_project', 'primary_sprint', 'priority', 'summary', ...}.issubset
FAILED tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_business_value_score_range - Failed: DID NOT RAISE <class 'pydantic_core._pydantic_core.ValidationError'>
FAILED tests/unit/schemas/test_task_schemas.py::TestTaskCreateRequest::test_enum_field_validation - pydantic_core._pydantic_core.ValidationError: 1 validation error for TaskCreate
severity
  Input should be 'critical', 'high', 'medium' or 'low' [type=enum, input_value=<Severity.SEV2: 'sev2'>, input_type=Severity]
    For further information visit https://errors.pydantic.dev/2.12/v/enum
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_minimum_fields - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391A0CBD0>, Ok)
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceBoundaryConditions::test_create_project_with_all_fields - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391C0C8D0>, Ok)
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceStatusTransitions::test_change_status_project_not_found - assert False
 +  where False = isinstance(<taskman_api.core.result.Ok object at 0x0000019391C876D0>, Err)
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_sprint_to_project - assert False
 +  where False = isinstance(<taskman_api.core.result.Err object at 0x0000019391CACF10>, Ok)
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceSprintManagement::test_add_duplicate_sprint_idempotent - AssertionError: assert 0 == 1
 +  where 0 = <built-in method count of list object at 0x0000019391C876C0>('S-2025-01')
 +    where <built-in method count of list object at 0x0000019391C876C0> = [].count
 +      where [] = ProjectResponse(created_at=datetime.datetime(2025, 1, 1, 12, 0), updated_at=datetime.datetime(2025, 1, 1, 12, 0), id='P-TEST-001', name='Test Project', mission='Test project mission', status=<ProjectStatus.ACTIVE: 'active'>, start_date=datetime.date(2025, 1, 1), target_end_date=None, owner='project.owner', sponsors=[], stakeholders=[], repositories=[], comms_channels=[], okrs=[], kpis=[], roadmap=[], risks=[], assumptions=[], constraints=[], dependencies_external=[], sprints=[], related_projects=[], shared_components=[], security_posture=None, compliance_requirements=[], governance={}, success_metrics=[], mpv_policy={}, tnve_mandate=False, evidence_root=None, observability={}).sprints
FAILED tests/unit/services/test_project_service_edge_cases.py::TestProjectServiceMetrics::test_get_metrics_project_not_found - AttributeError: 'TaskRepository' object has no attribute 'find_by_project'
FAILED tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_calculate_velocity_mixed_tasks - AttributeError: 'Task' object has no attribute 'model_copy'
FAILED tests/unit/services/test_sprint_service_edge_cases.py::TestSprintServiceMetrics::test_get_burndown_calculations - AttributeError: 'Task' object has no attribute 'model_copy'
FAILED tests/unit/test_config.py::TestSettings::test_valid_settings_development - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_valid_settings_production - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_development_allows_insecure_secrets - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_optional_redis_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_with_redis_config - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestSettings::test_environment_helpers - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestGetSettings::test_settings_cached - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
FAILED tests/unit/test_config.py::TestGetSettings::test_cache_clear - pydantic_core._pydantic_core.ValidationError: 4 validation errors for Settings
database_url
  Extra inputs are not permitted [type=extra_forbidden, input_value='postgresql://contextforg...calhost:5434/taskman_v2', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_host
  Extra inputs are not permitted [type=extra_forbidden, input_value='0.0.0.0', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
api_port
  Extra inputs are not permitted [type=extra_forbidden, input_value='3001', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
log_level
  Extra inputs are not permitted [type=extra_forbidden, input_value='DEBUG', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/extra_forbidden
================================ 26 failed, 147 passed, 3 skipped, 8 errors in 10.04s =================================
